/*
 * AliExpress JavaScript
 * Copyright(c) 2010, ALIUED.F2E.wel
 */


var globalImgServer='http://style.alibaba.com';if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={};}YAHOO.namespace=function(){var A=arguments,E=null,C,B,D;for(C=0;C<A.length;C=C+1){D=A[C].split(".");E=YAHOO;for(B=(D[0]=="YAHOO")?1:0;B<D.length;B=B+1){E[D[B]]=E[D[B]]||{};E=E[D[B]];}}return E;};YAHOO.log=function(D,A,C){var B=YAHOO.widget.Logger;if(B&&B.log){return B.log(D,A,C);}else{return false;}};YAHOO.register=function(A,E,D){var I=YAHOO.env.modules;if(!I[A]){I[A]={versions:[],builds:[]};}var B=I[A],H=D.version,G=D.build,F=YAHOO.env.listeners;B.name=A;B.version=H;B.build=G;B.versions.push(H);B.builds.push(G);B.mainClass=E;for(var C=0;C<F.length;C=C+1){F[C](B);}if(E){E.VERSION=H;E.BUILD=G;}else{YAHOO.log("mainClass is undefined for module "+A,"warn");}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(A){return YAHOO.env.modules[A]||null;};YAHOO.env.ua=function(){var C={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0};var B=navigator.userAgent,A;if((/KHTML/).test(B)){C.webkit=1;}A=B.match(/AppleWebKit\/([^\s]*)/);if(A&&A[1]){C.webkit=parseFloat(A[1]);if(/ Mobile\//.test(B)){C.mobile="Apple";}else{A=B.match(/NokiaN[^\/]*/);if(A){C.mobile=A[0];}}A=B.match(/AdobeAIR\/([^\s]*)/);if(A){C.air=A[0];}}if(!C.webkit){A=B.match(/Opera[\s\/]([^\s]*)/);if(A&&A[1]){C.opera=parseFloat(A[1]);A=B.match(/Opera Mini[^;]*/);if(A){C.mobile=A[0];}}else{A=B.match(/MSIE\s([^;]*)/);if(A&&A[1]){C.ie=parseFloat(A[1]);}else{A=B.match(/Gecko\/([^\s]*)/);if(A){C.gecko=1;A=B.match(/rv:([^\s\)]*)/);if(A&&A[1]){C.gecko=parseFloat(A[1]);}}}}}return C;}();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var B=YAHOO_config.listener,A=YAHOO.env.listeners,D=true,C;if(B){for(C=0;C<A.length;C=C+1){if(A[C]==B){D=false;break;}}if(D){A.push(B);}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var A=YAHOO.lang,C=["toString","valueOf"],B={isArray:function(D){if(D){return A.isNumber(D.length)&&A.isFunction(D.splice);}return false;},isBoolean:function(D){return typeof D==="boolean";},isFunction:function(D){return typeof D==="function";},isNull:function(D){return D===null;},isNumber:function(D){return typeof D==="number"&&isFinite(D);},isObject:function(D){return(D&&(typeof D==="object"||A.isFunction(D)))||false;},isString:function(D){return typeof D==="string";},isUndefined:function(D){return typeof D==="undefined";},_IEEnumFix:(YAHOO.env.ua.ie)?function(F,E){for(var D=0;D<C.length;D=D+1){var H=C[D],G=E[H];if(A.isFunction(G)&&G!=Object.prototype[H]){F[H]=G;}}}:function(){},extend:function(H,I,G){if(!I||!H){throw new Error("extend failed, please check that "+"all dependencies are included.");}var E=function(){};E.prototype=I.prototype;H.prototype=new E();H.prototype.constructor=H;H.superclass=I.prototype;if(I.prototype.constructor==Object.prototype.constructor){I.prototype.constructor=I;}if(G){for(var D in G){if(A.hasOwnProperty(G,D)){H.prototype[D]=G[D];}}A._IEEnumFix(H.prototype,G);}},augmentObject:function(H,G){if(!G||!H){throw new Error("Absorb failed, verify dependencies.");}var D=arguments,F,I,E=D[2];if(E&&E!==true){for(F=2;F<D.length;F=F+1){H[D[F]]=G[D[F]];}}else{for(I in G){if(E||!(I in H)){H[I]=G[I];}}A._IEEnumFix(H,G);}},augmentProto:function(G,F){if(!F||!G){throw new Error("Augment failed, verify dependencies.");}var D=[G.prototype,F.prototype];for(var E=2;E<arguments.length;E=E+1){D.push(arguments[E]);}A.augmentObject.apply(this,D);},dump:function(D,I){var F,H,K=[],L="{...}",E="f(){...}",J=", ",G=" => ";if(!A.isObject(D)){return D+"";}else{if(D instanceof Date||("nodeType"in D&&"tagName"in D)){return D;}else{if(A.isFunction(D)){return E;}}}I=(A.isNumber(I))?I:3;if(A.isArray(D)){K.push("[");for(F=0,H=D.length;F<H;F=F+1){if(A.isObject(D[F])){K.push((I>0)?A.dump(D[F],I-1):L);}else{K.push(D[F]);}K.push(J);}if(K.length>1){K.pop();}K.push("]");}else{K.push("{");for(F in D){if(A.hasOwnProperty(D,F)){K.push(F+G);if(A.isObject(D[F])){K.push((I>0)?A.dump(D[F],I-1):L);}else{K.push(D[F]);}K.push(J);}}if(K.length>1){K.pop();}K.push("}");}return K.join("");},substitute:function(S,E,L){var I,H,G,O,P,R,N=[],F,J="dump",M=" ",D="{",Q="}";for(;;){I=S.lastIndexOf(D);if(I<0){break;}H=S.indexOf(Q,I);if(I+1>=H){break;}F=S.substring(I+1,H);O=F;R=null;G=O.indexOf(M);if(G>-1){R=O.substring(G+1);O=O.substring(0,G);}P=E[O];if(L){P=L(O,P,R);}if(A.isObject(P)){if(A.isArray(P)){P=A.dump(P,parseInt(R,10));}else{R=R||"";var K=R.indexOf(J);if(K>-1){R=R.substring(4);}if(P.toString===Object.prototype.toString||K>-1){P=A.dump(P,parseInt(R,10));}else{P=P.toString();}}}else{if(!A.isString(P)&&!A.isNumber(P)){P="~-"+N.length+"-~";N[N.length]=F;}}S=S.substring(0,I)+P+S.substring(H+1);}for(I=N.length-1;I>=0;I=I-1){S=S.replace(new RegExp("~-"+I+"-~"),"{"+N[I]+"}","g");}return S;},trim:function(D){try{return D.replace(/^\s+|\s+$/g,"");}catch(E){return D;}},merge:function(){var G={},E=arguments;for(var F=0,D=E.length;F<D;F=F+1){A.augmentObject(G,E[F],true);}return G;},later:function(K,E,L,G,H){K=K||0;E=E||{};var F=L,J=G,I,D;if(A.isString(L)){F=E[L];}if(!F){throw new TypeError("method undefined");}if(!A.isArray(J)){J=[G];}I=function(){F.apply(E,J);};D=(H)?setInterval(I,K):setTimeout(I,K);return{interval:H,cancel:function(){if(this.interval){clearInterval(D);}else{clearTimeout(D);}}};},isValue:function(D){return(A.isObject(D)||A.isString(D)||A.isNumber(D)||A.isBoolean(D));}};A.hasOwnProperty=(Object.prototype.hasOwnProperty)?function(D,E){return D&&D.hasOwnProperty(E);}:function(D,E){return!A.isUndefined(D[E])&&D.constructor.prototype[E]!==D[E];};B.augmentObject(A,B,true);YAHOO.util.Lang=A;A.augment=A.augmentProto;YAHOO.augment=A.augmentProto;YAHOO.extend=A.extend;})();YAHOO.register("yahoo",YAHOO,{version:"2.6.0",build:"1321"});YAHOO.util.Get=function(){var M={},L=0,R=0,E=false,N=YAHOO.env.ua,S=YAHOO.lang;var J=function(W,T,X){var U=X||window,Y=U.document,Z=Y.createElement(W);for(var V in T){if(T[V]&&YAHOO.lang.hasOwnProperty(T,V)){Z.setAttribute(V,T[V]);}}return Z;};var I=function(T,U,W){var V=W||"utf-8";return J("link",{"id":"yui__dyn_"+(R++),"type":"text/css","charset":V,"rel":"stylesheet","href":T},U);};var P=function(T,U,W){var V=W||"utf-8";return J("script",{"id":"yui__dyn_"+(R++),"type":"text/javascript","charset":V,"src":T},U);};var A=function(T,U){return{tId:T.tId,win:T.win,data:T.data,nodes:T.nodes,msg:U,purge:function(){D(this.tId);}};};var B=function(T,W){var U=M[W],V=(S.isString(T))?U.win.document.getElementById(T):T;if(!V){Q(W,"target node not found: "+T);}return V;};var Q=function(W,V){var T=M[W];if(T.onFailure){var U=T.scope||T.win;T.onFailure.call(U,A(T,V));}};var C=function(W){var T=M[W];T.finished=true;if(T.aborted){var V="transaction "+W+" was aborted";Q(W,V);return;}if(T.onSuccess){var U=T.scope||T.win;T.onSuccess.call(U,A(T));}};var O=function(V){var T=M[V];if(T.onTimeout){var U=T.context||T;T.onTimeout.call(U,A(T));}};var G=function(V,Z){var U=M[V];if(U.timer){U.timer.cancel();}if(U.aborted){var X="transaction "+V+" was aborted";Q(V,X);return;}if(Z){U.url.shift();if(U.varName){U.varName.shift();}}else{U.url=(S.isString(U.url))?[U.url]:U.url;if(U.varName){U.varName=(S.isString(U.varName))?[U.varName]:U.varName;}}var c=U.win,b=c.document,a=b.getElementsByTagName("head")[0],W;if(U.url.length===0){if(U.type==="script"&&N.webkit&&N.webkit<420&&!U.finalpass&&!U.varName){var Y=P(null,U.win,U.charset);Y.innerHTML='YAHOO.util.Get._finalize("'+V+'");';U.nodes.push(Y);a.appendChild(Y);}else{C(V);}return;}var T=U.url[0];if(!T){U.url.shift();return G(V);}if(U.timeout){U.timer=S.later(U.timeout,U,O,V);}if(U.type==="script"){W=P(T,c,U.charset);}else{W=I(T,c,U.charset);}F(U.type,W,V,T,c,U.url.length);U.nodes.push(W);if(U.insertBefore){var e=B(U.insertBefore,V);if(e){e.parentNode.insertBefore(W,e);}}else{a.appendChild(W);}if((N.webkit||N.gecko)&&U.type==="css"){G(V,T);}};var K=function(){if(E){return;}E=true;for(var T in M){var U=M[T];if(U.autopurge&&U.finished){D(U.tId);delete M[T];}}E=false;};var D=function(a){var X=M[a];if(X){var Z=X.nodes,T=Z.length,Y=X.win.document,W=Y.getElementsByTagName("head")[0];if(X.insertBefore){var V=B(X.insertBefore,a);if(V){W=V.parentNode;}}for(var U=0;U<T;U=U+1){W.removeChild(Z[U]);}X.nodes=[];}};var H=function(U,T,V){var X="q"+(L++);V=V||{};if(L%YAHOO.util.Get.PURGE_THRESH===0){K();}M[X]=S.merge(V,{tId:X,type:U,url:T,finished:false,aborted:false,nodes:[]});var W=M[X];W.win=W.win||window;W.scope=W.scope||W.win;W.autopurge=("autopurge"in W)?W.autopurge:(U==="script")?true:false;S.later(0,W,G,X);return{tId:X};};var F=function(c,X,W,U,Y,Z,b){var a=b||G;if(N.ie){X.onreadystatechange=function(){var d=this.readyState;if("loaded"===d||"complete"===d){X.onreadystatechange=null;a(W,U);}};}else{if(N.webkit){if(c==="script"){if(N.webkit>=420){X.addEventListener("load",function(){a(W,U);});}else{var T=M[W];if(T.varName){var V=YAHOO.util.Get.POLL_FREQ;T.maxattempts=YAHOO.util.Get.TIMEOUT/V;T.attempts=0;T._cache=T.varName[0].split(".");T.timer=S.later(V,T,function(j){var f=this._cache,e=f.length,d=this.win,g;for(g=0;g<e;g=g+1){d=d[f[g]];if(!d){this.attempts++;if(this.attempts++>this.maxattempts){var h="Over retry limit, giving up";T.timer.cancel();Q(W,h);}else{}return;}}T.timer.cancel();a(W,U);},null,true);}else{S.later(YAHOO.util.Get.POLL_FREQ,null,a,[W,U]);}}}}else{X.onload=function(){a(W,U);};}}};return{POLL_FREQ:10,PURGE_THRESH:20,TIMEOUT:2000,_finalize:function(T){S.later(0,null,C,T);},abort:function(U){var V=(S.isString(U))?U:U.tId;var T=M[V];if(T){T.aborted=true;}},script:function(T,U){return H("script",T,U);},css:function(T,U){return H("css",T,U);}};}();YAHOO.register("get",YAHOO.util.Get,{version:"2.6.0",build:"1321"});(function(){var Y=YAHOO,util=Y.util,lang=Y.lang,env=Y.env,PROV="_provides",SUPER="_supersedes",REQ="expanded",AFTER="_after";var YUI={dupsAllowed:{"yahoo":true,"get":true},info:{"root":"2.6.0/build/","base":"http://yui.yahooapis.com/2.6.0/build/","comboBase":"http://yui.yahooapis.com/combo?","http://127.0.0.1/tipask/skin":{"defaultSkin":"sam","base":"assets/skins/","path":"http://127.0.0.1/tipask/skin.css","after":["reset","fonts","grids","base"],"rollup":3},dupsAllowed:["yahoo","get"],"moduleInfo":{"animation":{"type":"js","path":"animation/animation-min.js","requires":["dom","event"]},"autocomplete":{"type":"js","path":"autocomplete/autocomplete-min.js","requires":["dom","event","datasource"],"optional":["connection","animation"],"http://127.0.0.1/tipask/skinnable":true},"base":{"type":"css","path":"base/base-min.css","after":["reset","fonts","grids"]},"button":{"type":"js","path":"button/button-min.js","requires":["element"],"optional":["menu"],"http://127.0.0.1/tipask/skinnable":true},"calendar":{"type":"js","path":"calendar/calendar-min.js","requires":["event","dom"],"http://127.0.0.1/tipask/skinnable":true},"carousel":{"type":"js","path":"carousel/carousel-beta-min.js","requires":["element"],"optional":["animation"],"http://127.0.0.1/tipask/skinnable":true},"charts":{"type":"js","path":"charts/charts-experimental-min.js","requires":["element","json","datasource"]},"colorpicker":{"type":"js","path":"colorpicker/colorpicker-min.js","requires":["slider","element"],"optional":["animation"],"http://127.0.0.1/tipask/skinnable":true},"connection":{"type":"js","path":"connection/connection-min.js","requires":["event"]},"container":{"type":"js","path":"container/container-min.js","requires":["dom","event"],"optional":["dragdrop","animation","connection"],"supersedes":["containercore"],"http://127.0.0.1/tipask/skinnable":true},"containercore":{"type":"js","path":"container/container_core-min.js","requires":["dom","event"],"pkg":"container"},"cookie":{"type":"js","path":"cookie/cookie-min.js","requires":["yahoo"]},"datasource":{"type":"js","path":"datasource/datasource-min.js","requires":["event"],"optional":["connection"]},"datatable":{"type":"js","path":"datatable/datatable-min.js","requires":["element","datasource"],"optional":["calendar","dragdrop","paginator"],"http://127.0.0.1/tipask/skinnable":true},"dom":{"type":"js","path":"dom/dom-min.js","requires":["yahoo"]},"dragdrop":{"type":"js","path":"dragdrop/dragdrop-min.js","requires":["dom","event"]},"editor":{"type":"js","path":"editor/editor-min.js","requires":["menu","element","button"],"optional":["animation","dragdrop"],"supersedes":["simpleeditor"],"http://127.0.0.1/tipask/skinnable":true},"element":{"type":"js","path":"element/element-beta-min.js","requires":["dom","event"]},"event":{"type":"js","path":"event/event-min.js","requires":["yahoo"]},"fonts":{"type":"css","path":"fonts/fonts-min.css"},"get":{"type":"js","path":"get/get-min.js","requires":["yahoo"]},"grids":{"type":"css","path":"grids/grids-min.css","requires":["fonts"],"optional":["reset"]},"history":{"type":"js","path":"history/history-min.js","requires":["event"]},"imagecropper":{"type":"js","path":"imagecropper/imagecropper-beta-min.js","requires":["dom","event","dragdrop","element","resize"],"http://127.0.0.1/tipask/skinnable":true},"imageloader":{"type":"js","path":"imageloader/imageloader-min.js","requires":["event","dom"]},"json":{"type":"js","path":"json/json-min.js","requires":["yahoo"]},"layout":{"type":"js","path":"layout/layout-min.js","requires":["dom","event","element"],"optional":["animation","dragdrop","resize","selector"],"http://127.0.0.1/tipask/skinnable":true},"logger":{"type":"js","path":"logger/logger-min.js","requires":["event","dom"],"optional":["dragdrop"],"http://127.0.0.1/tipask/skinnable":true},"menu":{"type":"js","path":"menu/menu-min.js","requires":["containercore"],"http://127.0.0.1/tipask/skinnable":true},"paginator":{"type":"js","path":"paginator/paginator-min.js","requires":["element"],"http://127.0.0.1/tipask/skinnable":true},"profiler":{"type":"js","path":"profiler/profiler-min.js","requires":["yahoo"]},"profilerviewer":{"type":"js","path":"profilerviewer/profilerviewer-beta-min.js","requires":["profiler","yuiloader","element"],"http://127.0.0.1/tipask/skinnable":true},"reset":{"type":"css","path":"reset/reset-min.css"},"reset-fonts-grids":{"type":"css","path":"reset-fonts-grids/reset-fonts-grids.css","supersedes":["reset","fonts","grids","reset-fonts"],"rollup":4},"reset-fonts":{"type":"css","path":"reset-fonts/reset-fonts.css","supersedes":["reset","fonts"],"rollup":2},"resize":{"type":"js","path":"resize/resize-min.js","requires":["dom","event","dragdrop","element"],"optional":["animation"],"http://127.0.0.1/tipask/skinnable":true},"selector":{"type":"js","path":"selector/selector-beta-min.js","requires":["yahoo","dom"]},"simpleeditor":{"type":"js","path":"editor/simpleeditor-min.js","requires":["element"],"optional":["containercore","menu","button","animation","dragdrop"],"http://127.0.0.1/tipask/skinnable":true,"pkg":"editor"},"slider":{"type":"js","path":"slider/slider-min.js","requires":["dragdrop"],"optional":["animation"],"http://127.0.0.1/tipask/skinnable":true},"tabview":{"type":"js","path":"tabview/tabview-min.js","requires":["element"],"optional":["connection"],"http://127.0.0.1/tipask/skinnable":true},"treeview":{"type":"js","path":"treeview/treeview-min.js","requires":["event","dom"],"http://127.0.0.1/tipask/skinnable":true},"uploader":{"type":"js","path":"uploader/uploader-experimental.js","requires":["element"]},"utilities":{"type":"js","path":"utilities/utilities.js","supersedes":["yahoo","event","dragdrop","animation","dom","connection","element","yahoo-dom-event","get","yuiloader","yuiloader-dom-event"],"rollup":8},"yahoo":{"type":"js","path":"yahoo/yahoo-min.js"},"yahoo-dom-event":{"type":"js","path":"yahoo-dom-event/yahoo-dom-event.js","supersedes":["yahoo","event","dom"],"rollup":3},"yuiloader":{"type":"js","path":"yuiloader/yuiloader-min.js","supersedes":["yahoo","get"]},"yuiloader-dom-event":{"type":"js","path":"yuiloader-dom-event/yuiloader-dom-event.js","supersedes":["yahoo","dom","event","get","yuiloader","yahoo-dom-event"],"rollup":5},"yuitest":{"type":"js","path":"yuitest/yuitest-min.js","requires":["logger"],"http://127.0.0.1/tipask/skinnable":true}}},ObjectUtil:{appendArray:function(o,a){if(a){for(var i=0;i<a.length;i=i+1){o[a[i]]=true;}}},keys:function(o,ordered){var a=[],i;for(i in o){if(lang.hasOwnProperty(o,i)){a.push(i);}}return a;}},ArrayUtil:{appendArray:function(a1,a2){Array.prototype.push.apply(a1,a2);},indexOf:function(a,val){for(var i=0;i<a.length;i=i+1){if(a[i]===val){return i;}}return-1;},toObject:function(a){var o={};for(var i=0;i<a.length;i=i+1){o[a[i]]=true;}return o;},uniq:function(a){return YUI.ObjectUtil.keys(YUI.ArrayUtil.toObject(a));}}};YAHOO.util.YUILoader=function(o){this._internalCallback=null;this._useYahooListener=false;this.onSuccess=null;this.onFailure=Y.log;this.onProgress=null;this.onTimeout=null;this.scope=this;this.data=null;this.insertBefore=null;this.charset=null;this.varName=null;this.base=YUI.info.base;this.comboBase=YUI.info.comboBase;this.combine=false;this.root=YUI.info.root;this.timeout=0;this.ignore=null;this.force=null;this.allowRollup=true;this.filter=null;this.required={};this.moduleInfo=lang.merge(YUI.info.moduleInfo);this.rollups=null;this.loadOptional=false;this.sorted=[];this.loaded={};this.dirty=true;this.inserted={};var self=this;env.listeners.push(function(m){if(self._useYahooListener){self.loadNext(m.name);}});this.skin=lang.merge(YUI.info.skin);this._config(o);};Y.util.YUILoader.prototype={FILTERS:{RAW:{"searchExp":"-min\\.js","replaceStr":".js"},DEBUG:{"searchExp":"-min\\.js","replaceStr":"-debug.js"}},SKIN_PREFIX:"http://127.0.0.1/tipask/skin-",_config:function(o){if(o){for(var i in o){if(lang.hasOwnProperty(o,i)){if(i=="require"){this.require(o[i]);}else{this[i]=o[i];}}}}var f=this.filter;if(lang.isString(f)){f=f.toUpperCase();if(f==="DEBUG"){this.require("logger");}if(!Y.widget.LogWriter){Y.widget.LogWriter=function(){return Y;};}this.filter=this.FILTERS[f];}},addModule:function(o){if(!o||!o.name||!o.type||(!o.path&&!o.fullpath)){return false;}o.ext=("ext"in o)?o.ext:true;o.requires=o.requires||[];this.moduleInfo[o.name]=o;this.dirty=true;return true;},require:function(what){var a=(typeof what==="string")?arguments:what;this.dirty=true;YUI.ObjectUtil.appendArray(this.required,a);},_addSkin:function(skin,mod){var name=this.formatSkin(skin),info=this.moduleInfo,sinf=this.skin,ext=info[mod]&&info[mod].ext;if(!info[name]){this.addModule({"name":name,"type":"css","path":sinf.base+skin+"/"+sinf.path,"after":sinf.after,"rollup":sinf.rollup,"ext":ext});}if(mod){name=this.formatSkin(skin,mod);if(!info[name]){var mdef=info[mod],pkg=mdef.pkg||mod;this.addModule({"name":name,"type":"css","after":sinf.after,"path":pkg+"/"+sinf.base+skin+"/"+mod+".css","ext":ext});}}return name;},getRequires:function(mod){if(!mod){return[];}if(!this.dirty&&mod.expanded){return mod.expanded;}mod.requires=mod.requires||[];var i,d=[],r=mod.requires,o=mod.optional,info=this.moduleInfo,m;for(i=0;i<r.length;i=i+1){d.push(r[i]);m=info[r[i]];YUI.ArrayUtil.appendArray(d,this.getRequires(m));}if(o&&this.loadOptional){for(i=0;i<o.length;i=i+1){d.push(o[i]);YUI.ArrayUtil.appendArray(d,this.getRequires(info[o[i]]));}}mod.expanded=YUI.ArrayUtil.uniq(d);return mod.expanded;},getProvides:function(name,notMe){var addMe=!(notMe),ckey=(addMe)?PROV:SUPER,m=this.moduleInfo[name],o={};if(!m){return o;}if(m[ckey]){return m[ckey];}var s=m.supersedes,done={},me=this;var add=function(mm){if(!done[mm]){done[mm]=true;lang.augmentObject(o,me.getProvides(mm));}};if(s){for(var i=0;i<s.length;i=i+1){add(s[i]);}}m[SUPER]=o;m[PROV]=lang.merge(o);m[PROV][name]=true;return m[ckey];},calculate:function(o){if(o||this.dirty){this._config(o);this._setup();this._explode();if(this.allowRollup){this._rollup();}this._reduce();this._sort();this.dirty=false;}},_setup:function(){var info=this.moduleInfo,name,i,j;for(name in info){if(lang.hasOwnProperty(info,name)){var m=info[name];if(m&&m.skinnable){var o=this.skin.overrides,smod;if(o&&o[name]){for(i=0;i<o[name].length;i=i+1){smod=this._addSkin(o[name][i],name);}}else{smod=this._addSkin(this.skin.defaultSkin,name);}m.requires.push(smod);}}}var l=lang.merge(this.inserted);if(!this._sandbox){l=lang.merge(l,env.modules);}if(this.ignore){YUI.ObjectUtil.appendArray(l,this.ignore);}if(this.force){for(i=0;i<this.force.length;i=i+1){if(this.force[i]in l){delete l[this.force[i]];}}}for(j in l){if(lang.hasOwnProperty(l,j)){lang.augmentObject(l,this.getProvides(j));}}this.loaded=l;},_explode:function(){var r=this.required,i,mod;for(i in r){if(lang.hasOwnProperty(r,i)){mod=this.moduleInfo[i];if(mod){var req=this.getRequires(mod);if(req){YUI.ObjectUtil.appendArray(r,req);}}}}},_skin:function(){},formatSkin:function(skin,mod){var s=this.SKIN_PREFIX+skin;if(mod){s=s+"-"+mod;}return s;},parseSkin:function(mod){if(mod.indexOf(this.SKIN_PREFIX)===0){var a=mod.split("-");return{skin:a[1],module:a[2]};}return null;},_rollup:function(){var i,j,m,s,rollups={},r=this.required,roll,info=this.moduleInfo;if(this.dirty||!this.rollups){for(i in info){if(lang.hasOwnProperty(info,i)){m=info[i];if(m&&m.rollup){rollups[i]=m;}}}this.rollups=rollups;}for(;;){var rolled=false;for(i in rollups){if(!r[i]&&!this.loaded[i]){m=info[i];s=m.supersedes;roll=false;if(!m.rollup){continue;}var skin=(m.ext)?false:this.parseSkin(i),c=0;if(skin){for(j in r){if(lang.hasOwnProperty(r,j)){if(i!==j&&this.parseSkin(j)){c++;roll=(c>=m.rollup);if(roll){break;}}}}}else{for(j=0;j<s.length;j=j+1){if(this.loaded[s[j]]&&(!YUI.dupsAllowed[s[j]])){roll=false;break;}else{if(r[s[j]]){c++;roll=(c>=m.rollup);if(roll){break;}}}}}if(roll){r[i]=true;rolled=true;this.getRequires(m);}}}if(!rolled){break;}}},_reduce:function(){var i,j,s,m,r=this.required;for(i in r){if(i in this.loaded){delete r[i];}else{var skinDef=this.parseSkin(i);if(skinDef){if(!skinDef.module){var skin_pre=this.SKIN_PREFIX+skinDef.skin;for(j in r){if(lang.hasOwnProperty(r,j)){m=this.moduleInfo[j];var ext=m&&m.ext;if(!ext&&j!==i&&j.indexOf(skin_pre)>-1){delete r[j];}}}}}else{m=this.moduleInfo[i];s=m&&m.supersedes;if(s){for(j=0;j<s.length;j=j+1){if(s[j]in r){delete r[s[j]];}}}}}}},_onFailure:function(msg){YAHOO.log("Failure","info","loader");var f=this.onFailure;if(f){f.call(this.scope,{msg:"failure: "+msg,data:this.data,success:false});}},_onTimeout:function(){YAHOO.log("Timeout","info","loader");var f=this.onTimeout;if(f){f.call(this.scope,{msg:"timeout",data:this.data,success:false});}},_sort:function(){var s=[],info=this.moduleInfo,loaded=this.loaded,checkOptional=!this.loadOptional,me=this;var requires=function(aa,bb){var mm=info[aa];if(loaded[bb]||!mm){return false;}var ii,rr=mm.expanded,after=mm.after,other=info[bb],optional=mm.optional;if(rr&&YUI.ArrayUtil.indexOf(rr,bb)>-1){return true;}if(after&&YUI.ArrayUtil.indexOf(after,bb)>-1){return true;}if(checkOptional&&optional&&YUI.ArrayUtil.indexOf(optional,bb)>-1){return true;}var ss=info[bb]&&info[bb].supersedes;if(ss){for(ii=0;ii<ss.length;ii=ii+1){if(requires(aa,ss[ii])){return true;}}}if(mm.ext&&mm.type=="css"&&!other.ext&&other.type=="css"){return true;}return false;};for(var i in this.required){if(lang.hasOwnProperty(this.required,i)){s.push(i);}}var p=0;for(;;){var l=s.length,a,b,j,k,moved=false;for(j=p;j<l;j=j+1){a=s[j];for(k=j+1;k<l;k=k+1){if(requires(a,s[k])){b=s.splice(k,1);s.splice(j,0,b[0]);moved=true;break;}}if(moved){break;}else{p=p+1;}}if(!moved){break;}}this.sorted=s;},toString:function(){var o={type:"YUILoader",base:this.base,filter:this.filter,required:this.required,loaded:this.loaded,inserted:this.inserted};lang.dump(o,1);},_combine:function(){this._combining=[];var self=this,s=this.sorted,len=s.length,js=this.comboBase,css=this.comboBase,target,startLen=js.length,i,m,type=this.loadType;YAHOO.log("type "+type);for(i=0;i<len;i=i+1){m=this.moduleInfo[s[i]];if(m&&!m.ext&&(!type||type===m.type)){target=this.root+m.path;target+="&";if(m.type=="js"){js+=target;}else{css+=target;}this._combining.push(s[i]);}}if(this._combining.length){YAHOO.log("Attempting to combine: "+this._combining,"info","loader");var callback=function(o){var c=this._combining,len=c.length,i,m;for(i=0;i<len;i=i+1){this.inserted[c[i]]=true;}this.loadNext(o.data);},loadScript=function(){if(js.length>startLen){YAHOO.util.Get.script(self._filter(js),{data:self._loading,onSuccess:callback,onFailure:self._onFailure,onTimeout:self._onTimeout,insertBefore:self.insertBefore,charset:self.charset,timeout:self.timeout,scope:self});}};if(css.length>startLen){YAHOO.util.Get.css(this._filter(css),{data:this._loading,onSuccess:loadScript,onFailure:this._onFailure,onTimeout:this._onTimeout,insertBefore:this.insertBefore,charset:this.charset,timeout:this.timeout,scope:self});}else{loadScript();}return;}else{this.loadNext(this._loading);}},insert:function(o,type){this.calculate(o);this._loading=true;this.loadType=type;if(this.combine){return this._combine();}if(!type){var self=this;this._internalCallback=function(){self._internalCallback=null;self.insert(null,"js");};this.insert(null,"css");return;}this.loadNext();},sandbox:function(o,type){this._config(o);if(!this.onSuccess){throw new Error("You must supply an onSuccess handler for your sandbox");}this._sandbox=true;var self=this;if(!type||type!=="js"){this._internalCallback=function(){self._internalCallback=null;self.sandbox(null,"js");};this.insert(null,"css");return;}if(!util.Connect){var ld=new YAHOO.util.YUILoader();ld.insert({base:this.base,filter:this.filter,require:"connection",insertBefore:this.insertBefore,charset:this.charset,onSuccess:function(){this.sandbox(null,"js");},scope:this},"js");return;}this._scriptText=[];this._loadCount=0;this._stopCount=this.sorted.length;this._xhr=[];this.calculate();var s=this.sorted,l=s.length,i,m,url;for(i=0;i<l;i=i+1){m=this.moduleInfo[s[i]];if(!m){this._onFailure("undefined module "+m);for(var j=0;j<this._xhr.length;j=j+1){this._xhr[j].abort();}return;}if(m.type!=="js"){this._loadCount++;continue;}url=m.fullpath;url=(url)?this._filter(url):this._url(m.path);var xhrData={success:function(o){var idx=o.argument[0],name=o.argument[2];this._scriptText[idx]=o.responseText;if(this.onProgress){this.onProgress.call(this.scope,{name:name,scriptText:o.responseText,xhrResponse:o,data:this.data});}this._loadCount++;if(this._loadCount>=this._stopCount){var v=this.varName||"YAHOO";var t="(function() {\n";var b="\nreturn "+v+";\n})();";var ref=eval(t+this._scriptText.join("\n")+b);this._pushEvents(ref);if(ref){this.onSuccess.call(this.scope,{reference:ref,data:this.data});}else{this._onFailure.call(this.varName+" reference failure");}}},failure:function(o){this.onFailure.call(this.scope,{msg:"XHR failure",xhrResponse:o,data:this.data});},scope:this,argument:[i,url,s[i]]};this._xhr.push(util.Connect.asyncRequest("GET",url,xhrData));}},loadNext:function(mname){if(!this._loading){return;}if(mname){if(mname!==this._loading){return;}this.inserted[mname]=true;if(this.onProgress){this.onProgress.call(this.scope,{name:mname,data:this.data});}}var s=this.sorted,len=s.length,i,m;for(i=0;i<len;i=i+1){if(s[i]in this.inserted){continue;}if(s[i]===this._loading){return;}m=this.moduleInfo[s[i]];if(!m){this.onFailure.call(this.scope,{msg:"undefined module "+m,data:this.data});return;}if(!this.loadType||this.loadType===m.type){this._loading=s[i];var fn=(m.type==="css")?util.Get.css:util.Get.script,url=m.fullpath,self=this,c=function(o){self.loadNext(o.data);};url=(url)?this._filter(url):this._url(m.path);if(env.ua.webkit&&env.ua.webkit<420&&m.type==="js"&&!m.varName){c=null;this._useYahooListener=true;}fn(url,{data:s[i],onSuccess:c,onFailure:this._onFailure,onTimeout:this._onTimeout,insertBefore:this.insertBefore,charset:this.charset,timeout:this.timeout,varName:m.varName,scope:self});return;}}this._loading=null;if(this._internalCallback){var f=this._internalCallback;this._internalCallback=null;f.call(this);}else{if(this.onSuccess){this._pushEvents();this.onSuccess.call(this.scope,{data:this.data});}}},_pushEvents:function(ref){var r=ref||YAHOO;if(r.util&&r.util.Event){r.util.Event._load();}},_filter:function(str){var f=this.filter;return(f)?str.replace(new RegExp(f.searchExp),f.replaceStr):str;},_url:function(path){var u=this.base||"",f=this.filter;u=u+path;return this._filter(u);}};})();(function(){var B=YAHOO.util,F=YAHOO.lang,L,J,K={},G={},N=window.document;YAHOO.env._id_counter=YAHOO.env._id_counter||0;var C=YAHOO.env.ua.opera,M=YAHOO.env.ua.webkit,A=YAHOO.env.ua.gecko,H=YAHOO.env.ua.ie;var E={HYPHEN:/(-[a-z])/i,ROOT_TAG:/^body|html$/i,OP_SCROLL:/^(?:inline|table-row)$/i};var O=function(Q){if(!E.HYPHEN.test(Q)){return Q;}if(K[Q]){return K[Q];}var R=Q;while(E.HYPHEN.exec(R)){R=R.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase());}K[Q]=R;return R;};var P=function(R){var Q=G[R];if(!Q){Q=new RegExp("(?:^|\\s+)"+R+"(?:\\s+|$)");G[R]=Q;}return Q;};if(N.defaultView&&N.defaultView.getComputedStyle){L=function(Q,T){var S=null;if(T=="float"){T="cssFloat";}var R=Q.ownerDocument.defaultView.getComputedStyle(Q,"");if(R){S=R[O(T)];}return Q.style[T]||S;};}else{if(N.documentElement.currentStyle&&H){L=function(Q,S){switch(O(S)){case"opacity":var U=100;try{U=Q.filters["DXImageTransform.Microsoft.Alpha"].opacity;}catch(T){try{U=Q.filters("alpha").opacity;}catch(T){}}return U/100;case"float":S="styleFloat";default:var R=Q.currentStyle?Q.currentStyle[S]:null;return(Q.style[S]||R);}};}else{L=function(Q,R){return Q.style[R];};}}if(H){J=function(Q,R,S){switch(R){case"opacity":if(F.isString(Q.style.filter)){Q.style.filter="alpha(opacity="+S*100+")";if(!Q.currentStyle||!Q.currentStyle.hasLayout){Q.style.zoom=1;}}break;case"float":R="styleFloat";default:Q.style[R]=S;}};}else{J=function(Q,R,S){if(R=="float"){R="cssFloat";}Q.style[R]=S;};}var D=function(Q,R){return Q&&Q.nodeType==1&&(!R||R(Q));};YAHOO.util.Dom={get:function(S){if(S){if(S.nodeType||S.item){return S;}if(typeof S==="string"){return N.getElementById(S);}if("length"in S){var T=[];for(var R=0,Q=S.length;R<Q;++R){T[T.length]=B.Dom.get(S[R]);}return T;}return S;}return null;},getStyle:function(Q,S){S=O(S);var R=function(T){return L(T,S);};return B.Dom.batch(Q,R,B.Dom,true);},setStyle:function(Q,S,T){S=O(S);var R=function(U){J(U,S,T);};B.Dom.batch(Q,R,B.Dom,true);},getXY:function(Q){var R=function(S){if((S.parentNode===null||S.offsetParent===null||this.getStyle(S,"display")=="none")&&S!=S.ownerDocument.body){return false;}return I(S);};return B.Dom.batch(Q,R,B.Dom,true);},getX:function(Q){var R=function(S){return B.Dom.getXY(S)[0];};return B.Dom.batch(Q,R,B.Dom,true);},getY:function(Q){var R=function(S){return B.Dom.getXY(S)[1];};return B.Dom.batch(Q,R,B.Dom,true);},setXY:function(Q,T,S){var R=function(W){var V=this.getStyle(W,"position");if(V=="static"){this.setStyle(W,"position","relative");V="relative";}var Y=this.getXY(W);if(Y===false){return false;}var X=[parseInt(this.getStyle(W,"left"),10),parseInt(this.getStyle(W,"top"),10)];if(isNaN(X[0])){X[0]=(V=="relative")?0:W.offsetLeft;}if(isNaN(X[1])){X[1]=(V=="relative")?0:W.offsetTop;}if(T[0]!==null){W.style.left=T[0]-Y[0]+X[0]+"px";}if(T[1]!==null){W.style.top=T[1]-Y[1]+X[1]+"px";}if(!S){var U=this.getXY(W);if((T[0]!==null&&U[0]!=T[0])||(T[1]!==null&&U[1]!=T[1])){this.setXY(W,T,true);}}};B.Dom.batch(Q,R,B.Dom,true);},setX:function(R,Q){B.Dom.setXY(R,[Q,null]);},setY:function(Q,R){B.Dom.setXY(Q,[null,R]);},getRegion:function(Q){var R=function(S){if((S.parentNode===null||S.offsetParent===null||this.getStyle(S,"display")=="none")&&S!=S.ownerDocument.body){return false;}var T=B.Region.getRegion(S);return T;};return B.Dom.batch(Q,R,B.Dom,true);},getClientWidth:function(){return B.Dom.getViewportWidth();},getClientHeight:function(){return B.Dom.getViewportHeight();},getElementsByClassName:function(U,Y,V,W){U=F.trim(U);Y=Y||"*";V=(V)?B.Dom.get(V):null||N;if(!V){return[];}var R=[],Q=V.getElementsByTagName(Y),X=P(U);for(var S=0,T=Q.length;S<T;++S){if(X.test(Q[S].className)){R[R.length]=Q[S];if(W){W.call(Q[S],Q[S]);}}}return R;},hasClass:function(S,R){var Q=P(R);var T=function(U){return Q.test(U.className);};return B.Dom.batch(S,T,B.Dom,true);},addClass:function(R,Q){var S=function(T){if(this.hasClass(T,Q)){return false;}T.className=F.trim([T.className,Q].join(" "));return true;};return B.Dom.batch(R,S,B.Dom,true);},removeClass:function(S,R){var Q=P(R);var T=function(W){var V=false,X=W.className;if(R&&X&&this.hasClass(W,R)){W.className=X.replace(Q," ");if(this.hasClass(W,R)){this.removeClass(W,R);}W.className=F.trim(W.className);if(W.className===""){var U=(W.hasAttribute)?"class":"className";W.removeAttribute(U);}V=true;}return V;};return B.Dom.batch(S,T,B.Dom,true);},replaceClass:function(T,R,Q){if(!Q||R===Q){return false;}var S=P(R);var U=function(V){if(!this.hasClass(V,R)){this.addClass(V,Q);return true;}V.className=V.className.replace(S," "+Q+" ");if(this.hasClass(V,R)){this.removeClass(V,R);}V.className=F.trim(V.className);return true;};return B.Dom.batch(T,U,B.Dom,true);},generateId:function(Q,S){S=S||"yui-gen";var R=function(T){if(T&&T.id){return T.id;}var U=S+YAHOO.env._id_counter++;if(T){T.id=U;}return U;};return B.Dom.batch(Q,R,B.Dom,true)||R.apply(B.Dom,arguments);},isAncestor:function(R,S){R=B.Dom.get(R);S=B.Dom.get(S);var Q=false;if((R&&S)&&(R.nodeType&&S.nodeType)){if(R.contains&&R!==S){Q=R.contains(S);}else{if(R.compareDocumentPosition){Q=!!(R.compareDocumentPosition(S)&16);}}}else{}return Q;},inDocument:function(Q){return this.isAncestor(N.documentElement,Q);},getElementsBy:function(X,R,S,U){R=R||"*";S=(S)?B.Dom.get(S):null||N;if(!S){return[];}var T=[],W=S.getElementsByTagName(R);for(var V=0,Q=W.length;V<Q;++V){if(X(W[V])){T[T.length]=W[V];if(U){U(W[V]);}}}return T;},batch:function(U,X,W,S){U=(U&&(U.tagName||U.item))?U:B.Dom.get(U);if(!U||!X){return false;}var T=(S)?W:window;if(U.tagName||U.length===undefined){return X.call(T,U,W);}var V=[];for(var R=0,Q=U.length;R<Q;++R){V[V.length]=X.call(T,U[R],W);}return V;},getDocumentHeight:function(){var R=(N.compatMode!="CSS1Compat")?N.body.scrollHeight:N.documentElement.scrollHeight;var Q=Math.max(R,B.Dom.getViewportHeight());return Q;},getDocumentWidth:function(){var R=(N.compatMode!="CSS1Compat")?N.body.scrollWidth:N.documentElement.scrollWidth;var Q=Math.max(R,B.Dom.getViewportWidth());return Q;},getViewportHeight:function(){var Q=self.innerHeight;var R=N.compatMode;if((R||H)&&!C){Q=(R=="CSS1Compat")?N.documentElement.clientHeight:N.body.clientHeight;}return Q;},getViewportWidth:function(){var Q=self.innerWidth;var R=N.compatMode;if(R||H){Q=(R=="CSS1Compat")?N.documentElement.clientWidth:N.body.clientWidth;}return Q;},getAncestorBy:function(Q,R){while((Q=Q.parentNode)){if(D(Q,R)){return Q;}}return null;},getAncestorByClassName:function(R,Q){R=B.Dom.get(R);if(!R){return null;}var S=function(T){return B.Dom.hasClass(T,Q);};return B.Dom.getAncestorBy(R,S);},getAncestorByTagName:function(R,Q){R=B.Dom.get(R);if(!R){return null;}var S=function(T){return T.tagName&&T.tagName.toUpperCase()==Q.toUpperCase();};return B.Dom.getAncestorBy(R,S);},getPreviousSiblingBy:function(Q,R){while(Q){Q=Q.previousSibling;if(D(Q,R)){return Q;}}return null;},getPreviousSibling:function(Q){Q=B.Dom.get(Q);if(!Q){return null;}return B.Dom.getPreviousSiblingBy(Q);},getNextSiblingBy:function(Q,R){while(Q){Q=Q.nextSibling;if(D(Q,R)){return Q;}}return null;},getNextSibling:function(Q){Q=B.Dom.get(Q);if(!Q){return null;}return B.Dom.getNextSiblingBy(Q);},getFirstChildBy:function(Q,S){var R=(D(Q.firstChild,S))?Q.firstChild:null;return R||B.Dom.getNextSiblingBy(Q.firstChild,S);},getFirstChild:function(Q,R){Q=B.Dom.get(Q);if(!Q){return null;}return B.Dom.getFirstChildBy(Q);},getLastChildBy:function(Q,S){if(!Q){return null;}var R=(D(Q.lastChild,S))?Q.lastChild:null;return R||B.Dom.getPreviousSiblingBy(Q.lastChild,S);},getLastChild:function(Q){Q=B.Dom.get(Q);return B.Dom.getLastChildBy(Q);},getChildrenBy:function(R,T){var S=B.Dom.getFirstChildBy(R,T);var Q=S?[S]:[];B.Dom.getNextSiblingBy(S,function(U){if(!T||T(U)){Q[Q.length]=U;}return false;});return Q;},getChildren:function(Q){Q=B.Dom.get(Q);if(!Q){}return B.Dom.getChildrenBy(Q);},getDocumentScrollLeft:function(Q){Q=Q||N;return Math.max(Q.documentElement.scrollLeft,Q.body.scrollLeft);},getDocumentScrollTop:function(Q){Q=Q||N;return Math.max(Q.documentElement.scrollTop,Q.body.scrollTop);},insertBefore:function(R,Q){R=B.Dom.get(R);Q=B.Dom.get(Q);if(!R||!Q||!Q.parentNode){return null;}return Q.parentNode.insertBefore(R,Q);},insertAfter:function(R,Q){R=B.Dom.get(R);Q=B.Dom.get(Q);if(!R||!Q||!Q.parentNode){return null;}if(Q.nextSibling){return Q.parentNode.insertBefore(R,Q.nextSibling);}else{return Q.parentNode.appendChild(R);}},getClientRegion:function(){var S=B.Dom.getDocumentScrollTop(),R=B.Dom.getDocumentScrollLeft(),T=B.Dom.getViewportWidth()+R,Q=B.Dom.getViewportHeight()+S;return new B.Region(S,T,Q,R);}};var I=function(){if(N.documentElement.getBoundingClientRect){return function(S){var T=S.getBoundingClientRect(),R=Math.round;var Q=S.ownerDocument;return[R(T.left+B.Dom.getDocumentScrollLeft(Q)),R(T.top+B.Dom.getDocumentScrollTop(Q))];};}else{return function(S){var T=[S.offsetLeft,S.offsetTop];var R=S.offsetParent;var Q=(M&&B.Dom.getStyle(S,"position")=="absolute"&&S.offsetParent==S.ownerDocument.body);if(R!=S){while(R){T[0]+=R.offsetLeft;T[1]+=R.offsetTop;if(!Q&&M&&B.Dom.getStyle(R,"position")=="absolute"){Q=true;}R=R.offsetParent;}}if(Q){T[0]-=S.ownerDocument.body.offsetLeft;T[1]-=S.ownerDocument.body.offsetTop;}R=S.parentNode;while(R.tagName&&!E.ROOT_TAG.test(R.tagName)){if(R.scrollTop||R.scrollLeft){T[0]-=R.scrollLeft;T[1]-=R.scrollTop;}R=R.parentNode;}return T;};}}();})();YAHOO.util.Region=function(C,D,A,B){this.top=C;this[1]=C;this.right=D;this.bottom=A;this.left=B;this[0]=B;};YAHOO.util.Region.prototype.contains=function(A){return(A.left>=this.left&&A.right<=this.right&&A.top>=this.top&&A.bottom<=this.bottom);};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left));};YAHOO.util.Region.prototype.intersect=function(E){var C=Math.max(this.top,E.top);var D=Math.min(this.right,E.right);var A=Math.min(this.bottom,E.bottom);var B=Math.max(this.left,E.left);if(A>=C&&D>=B){return new YAHOO.util.Region(C,D,A,B);}else{return null;}};YAHOO.util.Region.prototype.union=function(E){var C=Math.min(this.top,E.top);var D=Math.max(this.right,E.right);var A=Math.max(this.bottom,E.bottom);var B=Math.min(this.left,E.left);return new YAHOO.util.Region(C,D,A,B);};YAHOO.util.Region.prototype.toString=function(){return("Region {"+"top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}");};YAHOO.util.Region.getRegion=function(D){var F=YAHOO.util.Dom.getXY(D);var C=F[1];var E=F[0]+D.offsetWidth;var A=F[1]+D.offsetHeight;var B=F[0];return new YAHOO.util.Region(C,E,A,B);};YAHOO.util.Point=function(A,B){if(YAHOO.lang.isArray(A)){B=A[1];A=A[0];}this.x=this.right=this.left=this[0]=A;this.y=this.top=this.bottom=this[1]=B;};YAHOO.util.Point.prototype=new YAHOO.util.Region();YAHOO.register("dom",YAHOO.util.Dom,{version:"2.6.0",build:"1321"});YAHOO.util.CustomEvent=function(D,B,C,A){this.type=D;this.scope=B||window;this.silent=C;this.signature=A||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var E="_YUICEOnSubscribe";if(D!==E){this.subscribeEvent=new YAHOO.util.CustomEvent(E,this,true);}this.lastError=null;};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(B,C,A){if(!B){throw new Error("Invalid callback for subscriber to '"+this.type+"'");}if(this.subscribeEvent){this.subscribeEvent.fire(B,C,A);}this.subscribers.push(new YAHOO.util.Subscriber(B,C,A));},unsubscribe:function(D,F){if(!D){return this.unsubscribeAll();}var E=false;for(var B=0,A=this.subscribers.length;B<A;++B){var C=this.subscribers[B];if(C&&C.contains(D,F)){this._delete(B);E=true;}}return E;},fire:function(){this.lastError=null;var K=[],E=this.subscribers.length;if(!E&&this.silent){return true;}var I=[].slice.call(arguments,0),G=true,D,J=false;if(!this.silent){}var C=this.subscribers.slice(),A=YAHOO.util.Event.throwErrors;for(D=0;D<E;++D){var M=C[D];if(!M){J=true;}else{if(!this.silent){}var L=M.getScope(this.scope);if(this.signature==YAHOO.util.CustomEvent.FLAT){var B=null;if(I.length>0){B=I[0];}try{G=M.fn.call(L,B,M.obj);}catch(F){this.lastError=F;if(A){throw F;}}}else{try{G=M.fn.call(L,this.type,I,M.obj);}catch(H){this.lastError=H;if(A){throw H;}}}if(false===G){if(!this.silent){}break;}}}return(G!==false);},unsubscribeAll:function(){for(var A=this.subscribers.length-1;A>-1;A--){this._delete(A);}this.subscribers=[];return A;},_delete:function(A){var B=this.subscribers[A];if(B){delete B.fn;delete B.obj;}this.subscribers.splice(A,1);},toString:function(){return"CustomEvent: "+"'"+this.type+"', "+"scope: "+this.scope;}};YAHOO.util.Subscriber=function(B,C,A){this.fn=B;this.obj=YAHOO.lang.isUndefined(C)?null:C;this.override=A;};YAHOO.util.Subscriber.prototype.getScope=function(A){if(this.override){if(this.override===true){return this.obj;}else{return this.override;}}return A;};YAHOO.util.Subscriber.prototype.contains=function(A,B){if(B){return(this.fn==A&&this.obj==B);}else{return(this.fn==A);}};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", override: "+(this.override||"no")+" }";};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var H=false;var I=[];var J=[];var G=[];var E=[];var C=0;var F=[];var B=[];var A=0;var D={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};var K=YAHOO.env.ua.ie?"focusin":"focus";var L=YAHOO.env.ua.ie?"focusout":"blur";return{POLL_RETRYS:2000,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,CAPTURE:7,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:YAHOO.env.ua.ie,_interval:null,_dri:null,DOMReady:false,throwErrors:false,startInterval:function(){if(!this._interval){var M=this;var N=function(){M._tryPreloadAttach();};this._interval=setInterval(N,this.POLL_INTERVAL);}},onAvailable:function(R,O,S,Q,P){var M=(YAHOO.lang.isString(R))?[R]:R;for(var N=0;N<M.length;N=N+1){F.push({id:M[N],fn:O,obj:S,override:Q,checkReady:P});}C=this.POLL_RETRYS;this.startInterval();},onContentReady:function(O,M,P,N){this.onAvailable(O,M,P,N,true);},onDOMReady:function(M,O,N){if(this.DOMReady){setTimeout(function(){var P=window;if(N){if(N===true){P=O;}else{P=N;}}M.call(P,"DOMReady",[],O);},0);}else{this.DOMReadyEvent.subscribe(M,O,N);}},_addListener:function(O,M,X,S,N,a){if(!X||!X.call){return false;}if(this._isValidCollection(O)){var Y=true;for(var T=0,V=O.length;T<V;++T){Y=this._addListener(O[T],M,X,S,N,a)&&Y;}return Y;}else{if(YAHOO.lang.isString(O)){var R=this.getEl(O);if(R){O=R;}else{this.onAvailable(O,function(){YAHOO.util.Event._addListener(O,M,X,S,N,a);});return true;}}}if(!O){return false;}if("unload"==M&&S!==this){J[J.length]=[O,M,X,S,N,a];return true;}var b=O;if(N){if(N===true){b=S;}else{b=N;}}var P=function(c){return X.call(b,YAHOO.util.Event.getEvent(c,O),S);};var Z=[O,M,X,P,b,S,N,a];var U=I.length;I[U]=Z;if(this.useLegacyEvent(O,M)){var Q=this.getLegacyIndex(O,M);if(Q==-1||O!=G[Q][0]){Q=G.length;B[O.id+M]=Q;G[Q]=[O,M,O["on"+M]];E[Q]=[];O["on"+M]=function(c){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(c),Q);};}E[Q].push(Z);}else{try{this._simpleAdd(O,M,P,a);}catch(W){this.lastError=W;this._removeListener(O,M,X,a);return false;}}return true;},addListener:function(O,Q,N,P,M){return this._addListener(O,Q,N,P,M,false);},addFocusListener:function(O,N,P,M){return this._addListener(O,K,N,P,M,true);},removeFocusListener:function(N,M){return this._removeListener(N,K,M,true);},addBlurListener:function(O,N,P,M){return this._addListener(O,L,N,P,M,true);},removeBlurListener:function(N,M){return this._removeListener(N,L,M,true);},fireLegacyEvent:function(Q,O){var S=true,M,U,T,V,R;U=E[O].slice();for(var N=0,P=U.length;N<P;++N){T=U[N];if(T&&T[this.WFN]){V=T[this.ADJ_SCOPE];R=T[this.WFN].call(V,Q);S=(S&&R);}}M=G[O];if(M&&M[2]){M[2](Q);}return S;},getLegacyIndex:function(N,O){var M=this.generateId(N)+O;if(typeof B[M]=="undefined"){return-1;}else{return B[M];}},useLegacyEvent:function(M,N){return(this.webkit&&this.webkit<419&&("click"==N||"dblclick"==N));},_removeListener:function(N,M,V,Y){var Q,T,X;if(typeof N=="string"){N=this.getEl(N);}else{if(this._isValidCollection(N)){var W=true;for(Q=N.length-1;Q>-1;Q--){W=(this._removeListener(N[Q],M,V,Y)&&W);}return W;}}if(!V||!V.call){return this.purgeElement(N,false,M);}if("unload"==M){for(Q=J.length-1;Q>-1;Q--){X=J[Q];if(X&&X[0]==N&&X[1]==M&&X[2]==V){J.splice(Q,1);return true;}}return false;}var R=null;var S=arguments[4];if("undefined"===typeof S){S=this._getCacheIndex(N,M,V);}if(S>=0){R=I[S];}if(!N||!R){return false;}if(this.useLegacyEvent(N,M)){var P=this.getLegacyIndex(N,M);var O=E[P];if(O){for(Q=0,T=O.length;Q<T;++Q){X=O[Q];if(X&&X[this.EL]==N&&X[this.TYPE]==M&&X[this.FN]==V){O.splice(Q,1);break;}}}}else{try{this._simpleRemove(N,M,R[this.WFN],Y);}catch(U){this.lastError=U;return false;}}delete I[S][this.WFN];delete I[S][this.FN];I.splice(S,1);return true;},removeListener:function(N,O,M){return this._removeListener(N,O,M,false);},getTarget:function(O,N){var M=O.target||O.srcElement;return this.resolveTextNode(M);},resolveTextNode:function(N){try{if(N&&3==N.nodeType){return N.parentNode;}}catch(M){}return N;},getPageX:function(N){var M=N.pageX;if(!M&&0!==M){M=N.clientX||0;if(this.isIE){M+=this._getScrollLeft();}}return M;},getPageY:function(M){var N=M.pageY;if(!N&&0!==N){N=M.clientY||0;if(this.isIE){N+=this._getScrollTop();}}return N;},getXY:function(M){return[this.getPageX(M),this.getPageY(M)];},getRelatedTarget:function(N){var M=N.relatedTarget;if(!M){if(N.type=="mouseout"){M=N.toElement;}else{if(N.type=="mouseover"){M=N.fromElement;}}}return this.resolveTextNode(M);},getTime:function(O){if(!O.time){var N=new Date().getTime();try{O.time=N;}catch(M){this.lastError=M;return N;}}return O.time;},stopEvent:function(M){this.stopPropagation(M);this.preventDefault(M);},stopPropagation:function(M){if(M.stopPropagation){M.stopPropagation();}else{M.cancelBubble=true;}},preventDefault:function(M){if(M.preventDefault){M.preventDefault();}else{M.returnValue=false;}},getEvent:function(O,M){var N=O||window.event;if(!N){var P=this.getEvent.caller;while(P){N=P.arguments[0];if(N&&Event==N.constructor){break;}P=P.caller;}}return N;},getCharCode:function(N){var M=N.keyCode||N.charCode||0;if(YAHOO.env.ua.webkit&&(M in D)){M=D[M];}return M;},_getCacheIndex:function(Q,R,P){for(var O=0,N=I.length;O<N;O=O+1){var M=I[O];if(M&&M[this.FN]==P&&M[this.EL]==Q&&M[this.TYPE]==R){return O;}}return-1;},generateId:function(M){var N=M.id;if(!N){N="yuievtautoid-"+A;++A;M.id=N;}return N;},_isValidCollection:function(N){try{return(N&&typeof N!=="string"&&N.length&&!N.tagName&&!N.alert&&typeof N[0]!=="undefined");}catch(M){return false;}},elCache:{},getEl:function(M){return(typeof M==="string")?document.getElementById(M):M;},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",this),_load:function(N){if(!H){H=true;var M=YAHOO.util.Event;M._ready();M._tryPreloadAttach();}},_ready:function(N){var M=YAHOO.util.Event;if(!M.DOMReady){M.DOMReady=true;M.DOMReadyEvent.fire();M._simpleRemove(document,"DOMContentLoaded",M._ready);}},_tryPreloadAttach:function(){if(F.length===0){C=0;clearInterval(this._interval);this._interval=null;return;}if(this.locked){return;}if(this.isIE){if(!this.DOMReady){this.startInterval();return;}}this.locked=true;var S=!H;if(!S){S=(C>0&&F.length>0);}var R=[];var T=function(V,W){var U=V;if(W.override){if(W.override===true){U=W.obj;}else{U=W.override;}}W.fn.call(U,W.obj);};var N,M,Q,P,O=[];for(N=0,M=F.length;N<M;N=N+1){Q=F[N];if(Q){P=this.getEl(Q.id);if(P){if(Q.checkReady){if(H||P.nextSibling||!S){O.push(Q);F[N]=null;}}else{T(P,Q);F[N]=null;}}else{R.push(Q);}}}for(N=0,M=O.length;N<M;N=N+1){Q=O[N];T(this.getEl(Q.id),Q);}C--;if(S){for(N=F.length-1;N>-1;N--){Q=F[N];if(!Q||!Q.id){F.splice(N,1);}}this.startInterval();}else{clearInterval(this._interval);this._interval=null;}this.locked=false;},purgeElement:function(Q,R,T){var O=(YAHOO.lang.isString(Q))?this.getEl(Q):Q;var S=this.getListeners(O,T),P,M;if(S){for(P=S.length-1;P>-1;P--){var N=S[P];this._removeListener(O,N.type,N.fn,N.capture);}}if(R&&O&&O.childNodes){for(P=0,M=O.childNodes.length;P<M;++P){this.purgeElement(O.childNodes[P],R,T);}}},getListeners:function(O,M){var R=[],N;if(!M){N=[I,J];}else{if(M==="unload"){N=[J];}else{N=[I];}}var T=(YAHOO.lang.isString(O))?this.getEl(O):O;for(var Q=0;Q<N.length;Q=Q+1){var V=N[Q];if(V){for(var S=0,U=V.length;S<U;++S){var P=V[S];if(P&&P[this.EL]===T&&(!M||M===P[this.TYPE])){R.push({type:P[this.TYPE],fn:P[this.FN],obj:P[this.OBJ],adjust:P[this.OVERRIDE],scope:P[this.ADJ_SCOPE],capture:P[this.CAPTURE],index:S});}}}}return(R.length)?R:null;},_unload:function(S){var M=YAHOO.util.Event,P,O,N,R,Q,T=J.slice();for(P=0,R=J.length;P<R;++P){N=T[P];if(N){var U=window;if(N[M.ADJ_SCOPE]){if(N[M.ADJ_SCOPE]===true){U=N[M.UNLOAD_OBJ];}else{U=N[M.ADJ_SCOPE];}}N[M.FN].call(U,M.getEvent(S,N[M.EL]),N[M.UNLOAD_OBJ]);T[P]=null;N=null;U=null;}}J=null;if(I){for(O=I.length-1;O>-1;O--){N=I[O];if(N){M._removeListener(N[M.EL],N[M.TYPE],N[M.FN],N[M.CAPTURE],O);}}N=null;}G=null;M._simpleRemove(window,"unload",M._unload);},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var M=document.documentElement,N=document.body;if(M&&(M.scrollTop||M.scrollLeft)){return[M.scrollTop,M.scrollLeft];}else{if(N){return[N.scrollTop,N.scrollLeft];}else{return[0,0];}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(O,P,N,M){O.addEventListener(P,N,(M));};}else{if(window.attachEvent){return function(O,P,N,M){O.attachEvent("on"+P,N);};}else{return function(){};}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(O,P,N,M){O.removeEventListener(P,N,(M));};}else{if(window.detachEvent){return function(N,O,M){N.detachEvent("on"+O,M);};}else{return function(){};}}}()};}();(function(){var EU=YAHOO.util.Event;EU.on=EU.addListener;EU.onFocus=EU.addFocusListener;EU.onBlur=EU.addBlurListener;if(EU.isIE){YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,true);var n=document.createElement("p");EU._dri=setInterval(function(){try{n.doScroll("left");clearInterval(EU._dri);EU._dri=null;EU._ready();n=null;}catch(ex){}},EU.POLL_INTERVAL);}else{if(EU.webkit&&EU.webkit<525){EU._dri=setInterval(function(){var rs=document.readyState;if("loaded"==rs||"complete"==rs){clearInterval(EU._dri);EU._dri=null;EU._ready();}},EU.POLL_INTERVAL);}else{EU._simpleAdd(document,"DOMContentLoaded",EU._ready);}}EU._simpleAdd(window,"load",EU._load);EU._simpleAdd(window,"unload",EU._unload);EU._tryPreloadAttach();})();}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(A,C,F,E){this.__yui_events=this.__yui_events||{};var D=this.__yui_events[A];if(D){D.subscribe(C,F,E);}else{this.__yui_subscribers=this.__yui_subscribers||{};var B=this.__yui_subscribers;if(!B[A]){B[A]=[];}B[A].push({fn:C,obj:F,override:E});}},unsubscribe:function(C,E,G){this.__yui_events=this.__yui_events||{};var A=this.__yui_events;if(C){var F=A[C];if(F){return F.unsubscribe(E,G);}}else{var B=true;for(var D in A){if(YAHOO.lang.hasOwnProperty(A,D)){B=B&&A[D].unsubscribe(E,G);}}return B;}return false;},unsubscribeAll:function(A){return this.unsubscribe(A);},createEvent:function(G,D){this.__yui_events=this.__yui_events||{};var A=D||{};var I=this.__yui_events;if(I[G]){}else{var H=A.scope||this;var E=(A.silent);var B=new YAHOO.util.CustomEvent(G,H,E,YAHOO.util.CustomEvent.FLAT);I[G]=B;if(A.onSubscribeCallback){B.subscribeEvent.subscribe(A.onSubscribeCallback);}this.__yui_subscribers=this.__yui_subscribers||{};var F=this.__yui_subscribers[G];if(F){for(var C=0;C<F.length;++C){B.subscribe(F[C].fn,F[C].obj,F[C].override);}}}return I[G];},fireEvent:function(E,D,A,C){this.__yui_events=this.__yui_events||{};var G=this.__yui_events[E];if(!G){return null;}var B=[];for(var F=1;F<arguments.length;++F){B.push(arguments[F]);}return G.fire.apply(G,B);},hasEvent:function(A){if(this.__yui_events){if(this.__yui_events[A]){return true;}}return false;}};YAHOO.util.KeyListener=function(A,F,B,C){if(!A){}else{if(!F){}else{if(!B){}}}if(!C){C=YAHOO.util.KeyListener.KEYDOWN;}var D=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(typeof A=="string"){A=document.getElementById(A);}if(typeof B=="function"){D.subscribe(B);}else{D.subscribe(B.fn,B.scope,B.correctScope);}function E(J,I){if(!F.shift){F.shift=false;}if(!F.alt){F.alt=false;}if(!F.ctrl){F.ctrl=false;}if(J.shiftKey==F.shift&&J.altKey==F.alt&&J.ctrlKey==F.ctrl){var G;if(F.keys instanceof Array){for(var H=0;H<F.keys.length;H++){G=F.keys[H];if(G==J.charCode){D.fire(J.charCode,J);break;}else{if(G==J.keyCode){D.fire(J.keyCode,J);break;}}}}else{G=F.keys;if(G==J.charCode){D.fire(J.charCode,J);}else{if(G==J.keyCode){D.fire(J.keyCode,J);}}}}}this.enable=function(){if(!this.enabled){YAHOO.util.Event.addListener(A,C,E);this.enabledEvent.fire(F);}this.enabled=true;};this.disable=function(){if(this.enabled){YAHOO.util.Event.removeListener(A,C,E);this.disabledEvent.fire(F);}this.enabled=false;};this.toString=function(){return"KeyListener ["+F.keys+"] "+A.tagName+(A.id?"["+A.id+"]":"");};};YAHOO.util.KeyListener.KEYDOWN="keydown";YAHOO.util.KeyListener.KEYUP="keyup";YAHOO.util.KeyListener.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};YAHOO.register("event",YAHOO.util.Event,{version:"2.6.0",build:"1321"});YAHOO.register("yuiloader-dom-event",YAHOO,{version:"2.6.0",build:"1321"});if(!Array.prototype.indexOf){Array.prototype.indexOf=function(C,B){if(B==null){B=0}else{if(B<0){B=Math.max(0,this.length+B)}}for(var A=B;A<this.length;A++){if(this[A]===C){return A}}return-1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(C,B){if(B==null){B=this.length-1}else{if(B<0){B=Math.max(0,this.length+B)}}for(var A=B;A>=0;A--){if(this[A]===C){return A}}return-1}}if(!Array.prototype.forEach){Array.prototype.forEach=function(C,D){var A=this.length;for(var B=0;B<A;B++){C.call(D,this[B],B,this)}}}if(!Array.prototype.filter){Array.prototype.filter=function(D,E){var A=this.length;var C=[];for(var B=0;B<A;B++){if(D.call(E,this[B],B,this)){C.push(this[B])}}return C}}if(!Array.prototype.map){Array.prototype.map=function(D,E){var A=this.length;var C=[];for(var B=0;B<A;B++){C.push(D.call(E,this[B],B,this))}return C}}if(!Array.prototype.some){Array.prototype.some=function(C,D){var A=this.length;for(var B=0;B<A;B++){if(C.call(D,this[B],B,this)){return true}}return false}}if(!Array.prototype.every){Array.prototype.every=function(C,D){var A=this.length;for(var B=0;B<A;B++){if(!C.call(D,this[B],B,this)){return false}}return true}}Array.prototype.contains=function(A){return this.indexOf(A)!=-1};Array.prototype.copy=function(A){return this.concat()};Array.prototype.insertAt=function(B,A){this.splice(A,0,B)};Array.prototype.insertBefore=function(C,B){var A=this.indexOf(B);if(A==-1){this.push(C)}else{this.splice(A,0,C)}};Array.prototype.removeAt=function(A){this.splice(A,1)};Array.prototype.remove=function(B){var A=this.indexOf(B);if(A!=-1){this.splice(A,1)}};if(!String.prototype.toQueryParams){String.prototype.toQueryParams=function(){var F={};var G=this.split("&");var D=/([^=]*)=(.*)/;for(var B=0;B<G.length;B++){var A=D.exec(G[B]);if(!A){continue}var C=decodeURIComponent(A[1]);var E=A[2]?decodeURIComponent(A[2]):undefined;if(F[C]!==undefined){if(F[C].constructor!=Array){F[C]=[F[C]]}if(E){F[C].push(E)}}else{F[C]=E}}return F}}if(!String.prototype.trim){String.prototype.trim=function(){var A=/^\s+|\s+$/g;return function(){return this.replace(A,"")}}()}if(!String.prototype.replaceAll){String.prototype.replaceAll=function(B,A){return this.replace(new RegExp(B,"gm"),A)}}Math.randomInt=function(A){return Math.floor(Math.random()*(A+1))};$D=YAHOO.util.Dom;$E=YAHOO.util.Event;$=$D.get;TB={};TB.namespace=function(){var A=arguments,E=null,C,B,D;for(C=0;C<A.length;C=C+1){D=A[C].split(".");E=TB;for(B=(D[0]=="TB")?1:0;B<D.length;B=B+1){E[D[B]]=E[D[B]]||{};E=E[D[B]]}}return E};TB.namespace("env");TB.env={hostname:"taobao.com",debug:false,lang:"zh-cn"};TB.namespace("locale");TB.locale={Messages:{},getMessage:function(A){return TB.locale.Messages[A]||A},setMessage:function(A,B){TB.locale.Messages[A]=B}};$M=TB.locale.getMessage;TB.trace=function(A){if(!TB.env.debug){return}if(window.console){window.console.debug(A)}else{alert(A)}};TB.init=function(){this.namespace("widget","dom","bom","util","form","anim");if(location.hostname.indexOf("taobao.com")==-1){TB.env.hostname=location.hostname;TB.env.debug=true}var A=document.getElementsByTagName("script");var C=/tbra(?:[\w\.\-]*?)\.js(?:$|\?(.*))/;var E;for(var B=0;B<A.length;++B){if(E=C.exec(A[B].src)){TB.env["path"]=A[B].src.substring(0,E.index);if(E[1]){var D=E[1].toQueryParams();for(n in D){if(n=="t"||n=="timestamp"){TB.env["timestamp"]=parseInt(D[n]);continue}TB.env[n]=D[n]}}}}
TB.locale.Messages={loading:"Loading...",pleaseWait:"Please waiting...",ajaxError:"System Error",prevPageText:"Next Page",nextPageText:"Previous Page",year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",timeoutText:"Timeout"}};TB.init();TB.common={trim:function(A){return A.replace(/(^\s*)|(\s*$)/g,"")},escapeHTML:function(B){var C=document.createElement("div");var A=document.createTextNode(B);C.appendChild(A);return C.innerHTML},unescapeHTML:function(A){var B=document.createElement("div");B.innerHTML=A.replace(/<\/?[^>]+>/gi,"");return B.childNodes[0]?B.childNodes[0].nodeValue:""},stripTags:function(A){return A.replace(/<\/?[^>]+>/gi,"")},toArray:function(B,D){var C=[];for(var A=D||0;A<B.length;A++){C[C.length]=B[A]}return C},applyIf:function(C,A){if(C&&A&&typeof A=="object"){for(var B in A){if(!YAHOO.lang.hasOwnProperty(C,B)){C[B]=A[B]}}}return C},apply:function(C,A){if(C&&A&&typeof A=="object"){for(var B in A){C[B]=A[B]}}return C},formatMessage:function(D,A,B){var C=/\{([\w-]+)?\}/g;return function(G,E,F){return G.replace(C,function(H,I){return F?F(E[I],I):E[I]})}}(),parseUri:(function(){var B=["source","prePath","scheme","username","password","host","port","path","dir","file","query","fragment"];var A=/^((?:([^:\/?#.]+):)?(?:\/\/)?(?:([^:@]*):?([^:@]*)?@)?([^:\/?#]*)(?::(\d*))?)((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?/;return function(F){var E={};var C=A.exec(F);for(var D=0;D<C.length;++D){E[B[D]]=(C[D]?C[D]:"")}return E}})()};TB.applyIf=TB.common.applyIf;TB.apply=TB.common.apply;(function(){var E=navigator.userAgent.toLowerCase();var B=E.indexOf("opera")!=-1,G=E.indexOf("safari")!=-1,A=!B&&!G&&E.indexOf("gecko")>-1,C=!B&&E.indexOf("msie")!=-1,F=!B&&E.indexOf("msie 6")!=-1,D=!B&&E.indexOf("msie 7")!=-1;TB.bom={isOpera:B,isSafari:G,isGecko:A,isIE:C,isIE6:F,isIE7:D,getCookie:function(H){var I=document.cookie.match("(?:^|;)\\s*"+H+"=([^;]*)");return I?unescape(I[1]):""},setCookie:function(J,L,H,K,M){L=escape(L);L+=(K)?"; domain="+K:"";L+=(M)?"; path="+M:"";if(H){var I=new Date();I.setTime(I.getTime()+(H*86400000));L+="; expires="+I.toGMTString()}document.cookie=J+"="+L},removeCookie:function(H){this.setCookie(H,"",-1)},pickDocumentDomain:function(){var K=arguments[1]||location.hostname;var J=K.split("."),H=J.length;var I=arguments[0]||(H<3?0:1);if(I>=H||H-I<2){I=H-2}return J.slice(I).join(".")},addBookmark:function(I,H){if(window.sidebar){window.sidebar.addPanel(I,H,"")}else{if(document.external){window.external.AddFavorite(H,I)}else{}}}}})();TB.dom={insertAfter:function(B,A){return $D.insertAfter(B,A)},getAncestorByTagName:function(B,A){return $D.getAncestorByTagName(B,A)},getAncestorByClassName:function(B,A){return $D.getAncestorByClassName(B,A)},getNextSibling:function(A){return $D.getNextSibling(A)},getPreviousSibling:function(A){return $D.getPreviousSibling(A)},getFieldLabelHtml:function(E,D){var B=$(E),F=(D||B.parentNode).getElementsByTagName("label");for(var C=0;C<F.length;C++){var A=F[C].htmlFor||F[C].getAttribute("for");if(A==B.id){return F[C].innerHTML}}return null},getIframeDocument:function(B){var A=$(B);return A.contentWindow?A.contentWindow.document:A.contentDocument},setFormAction:function(E,C){E=$(E);var B=E.elements["action"];var D;if(B){var A=E.removeChild(B);D=function(){E.appendChild(A)}}E.action=C;if(D){D()}return true},addCSS:function(A,C){C=C||document;var B=C.createElement("style");B.type="text/css";if(B.styleSheet){B.styleSheet.cssText=A}else{B.appendChild(C.createTextNode(A))}C.getElementsByTagName("head")[0].appendChild(B)},getScriptParams:function(C){var F=/\?(.*?)($|\.js)/;var B;if(YAHOO.lang.isObject(C)&&C.tagName&&C.tagName.toLowerCase()=="script"){if(C.src&&(B=C.src.match(F))){console.debug(B);return B[1].toQueryParams()}}else{if(YAHOO.lang.isString(C)){C=new RegExp(C,"i")}var A=document.getElementsByTagName("script");var G,E;for(var D=0;D<A.length;++D){E=A[D].src;if(E&&C.test(E)&&(B=E.match(F))){return B[1].toQueryParams()}}}}};TB.anim.Highlight=function(B,A){if(!B){return}this.init(B,A)};TB.anim.Highlight.defConfig={startColor:"#ffff99",duration:0.5,keepBackgroundImage:true};TB.anim.Highlight.prototype.init=function(E,D){var G=YAHOO.util;D=TB.applyIf(D||{},TB.anim.Highlight.defConfig);var A={backgroundColor:{from:D.startColor}};var F=new G.ColorAnim(E,A,D.duration);var B=F.getAttribute("backgroundColor");F.attributes["backgroundColor"]["to"]=B;if(D.keepBackgroundImage){var C=$D.getStyle(E,"background-image");F.onComplete.subscribe(function(){$D.setStyle(E,"background-image",C)})}this.onComplete=F.onComplete;this.animate=function(){$D.setStyle(E,"background-image","none");F.animate()}};TB.widget.InputHint=new function(){var B={hintMessage:"",hintClass:"InputHint",appearOnce:false};var D=/^\s*$/;var A=function(E,F){F.disappear()};var C=function(E,F){F.appear()};this.decorate=function(E,F){E=$(E);F=TB.applyIf(F||{},B);var H=F.hintMessage||E.title;var G={};G.disappear=function(){if(H==E.value){E.value="";$D.removeClass(E,F.hintClass)}};G.appear=function(){if(D.test(E.value)||H==E.value){E.value=H;$D.addClass(E,F.hintClass);H=E.value;}};E.setAttribute("title",H);$E.on(E,"focus",A,G);$E.on(E,"drop",A,G);if(!F.appearOnce){$E.on(E,"blur",C,G)}G.appear();return G}};TB.widget.SimplePopup=new function(){var F=YAHOO.util;var E={position:"right",autoFit:true,eventType:"mouse",delay:0.1,disableClick:true,width:200,height:200};var D=function(H){var I=$E.getTarget(H);if(D._target==I){this.popup.style.display=="block"?this.hide():this.show()}else{this.show()}$E.preventDefault(H);D._target=I};var G=function(I){clearTimeout(this._popupHideTimeId);var H=this;this._popupShowTimeId=setTimeout(function(){H.show()},this.config.delay*1000);if(this.config.disableClick&&!this.trigger.onclick){this.trigger.onclick=function(J){$E.preventDefault($E.getEvent(J))}}};var C=function(H){clearTimeout(this._popupShowTimeId);if(!$D.isAncestor(this.popup,$E.getRelatedTarget(H))){this.delayHide()}$E.preventDefault(H)};var B=function(H){var I=this.currentHandle?this.currentHandle:this;clearTimeout(I._popupHideTimeId)};var A=function(H){var I=this.currentHandle?this.currentHandle:this;if(!$D.isAncestor(I.popup,$E.getRelatedTarget(H))){I.delayHide()}};this.decorate=function(J,H,K){if(YAHOO.lang.isArray(J)||(YAHOO.lang.isObject(J)&&J.length)){K.shareSinglePopup=true;var M={};M._handles=[];for(var L=0;L<J.length;L++){var N=this.decorate(J[L],H,K);N._beforeShow=function(){M.currentHandle=this;return true};M._handles[L]=N}if(K.eventType=="mouse"){$E.on(H,"mouseover",B,M,true);$E.on(H,"mouseout",A,M,true)}return M}J=$(J);H=$(H);if(!J||!H){return}K=TB.applyIf(K||{},E);var P={};P._popupShowTimeId=null;P._popupHideTimeId=null;P._beforeShow=function(){return true};var I=new F.CustomEvent("onShow",P,false,F.CustomEvent.FLAT);if(K.onShow){I.subscribe(K.onShow)}var O=new F.CustomEvent("onHide",P,false,F.CustomEvent.FLAT);if(K.onHide){O.subscribe(K.onHide)}if(K.eventType=="mouse"){$E.on(J,"mouseover",G,P,true);$E.on(J,"mouseout",C,P,true);if(!K.shareSinglePopup){$E.on(H,"mouseover",B,P,true);$E.on(H,"mouseout",A,P,true)}}else{if(K.eventType=="click"){$E.on(J,"click",D,P,true)}}TB.apply(P,{popup:H,trigger:J,config:K,show:function(){if(!this._beforeShow()){return}var Y=$D.getXY(this.trigger);if(YAHOO.lang.isArray(this.config.offset)){Y[0]+=parseInt(this.config.offset[0]);Y[1]+=parseInt(this.config.offset[1])}var V=this.trigger.offsetWidth,R=this.trigger.offsetHeight;var Z=K.width,W=K.height;var Q=$D.getViewportWidth(),X=$D.getViewportHeight();var T=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);var b=Math.max(document.documentElement.scrollTop,document.body.scrollTop);var S=Y[0],a=Y[1];if(K.position=="left"){S=Y[0]-Z}else{if(K.position=="right"){S=Y[0]+V}else{if(K.position=="bottom"){a=a+R}else{if(K.position=="top"){a=a-W;if(a<0){a=0}}}}}if(this.config.autoFit){if(a-b+W>X){a=X-W+b-2;if(a<0){a=0}}}this.popup.style.position="absolute";this.popup.style.top=a+"px";this.popup.style.left=S+"px";if(this.config.effect){if(this.config.effect=="fade"){$D.setStyle(this.popup,"opacity",0);this.popup.style.display="block";var U=new F.Anim(this.popup,{opacity:{to:1}},0.4);U.animate()}}else{this.popup.style.display="block"}I.fire()},hide:function(){$D.setStyle(this.popup,"display","none");O.fire()},delayHide:function(){var Q=this;this._popupHideTimeId=setTimeout(function(){Q.hide()},this.config.delay*1000)}});$D.setStyle(H,"display","none");return P}};TB.widget.SimpleRating=new function(){var defConfig={rateUrl:"",rateParams:"",scoreParamName:"score",topScore:5,currentRatingClass:"current-rating"};var rateHandler=function(ev,handle){$E.stopEvent(ev);var aEl=$E.getTarget(ev);var score=parseInt(aEl.innerHTML);try{aEl.blur()}catch(e){}handle.rate(score)};var updateCurrentRating=function(currentRatingLi,avg,config){if(currentRatingLi){currentRatingLi.innerHTML=avg}$D.setStyle(currentRatingLi,"width",avg*100/config.topScore+"%")};this.decorate=function(ratingContainer,config){ratingContainer=$(ratingContainer);config=TB.applyIf(config||{},defConfig);var currentRatingLi=$D.getElementsByClassName(config.currentRatingClass,"li",ratingContainer)[0];var onRateEvent=new YAHOO.util.CustomEvent("onRate",null,false,YAHOO.util.CustomEvent.FLAT);if(config.onRate){onRateEvent.subscribe(config.onRate)}var handle={};handle.init=function(avg){updateCurrentRating(currentRatingLi,avg,config)};handle.update=function(ret){if(ret&&ret.Average&&currentRatingLi){updateCurrentRating(currentRatingLi,ret.Average,config)}$E.purgeElement(ratingContainer,true,"click");for(var lis=ratingContainer.getElementsByTagName("li"),i=lis.length-1;i>0;i--){ratingContainer.removeChild(lis[i])}onRateEvent.fire(ret)};handle.rate=function(score){var indicator=TB.util.Indicator.attach(ratingContainer,{message:$M("pleaseWait")});indicator.show();ratingContainer.style.display="none";var postData=config.scoreParamName+"="+score;if(config.rateParams){postData+="&"+config.rateParams}YAHOO.util.Connect.asyncRequest("POST",config.rateUrl,{success:function(req){indicator.hide();ratingContainer.style.display="";var ret=eval("("+req.responseText+")");if(ret.Error){alert(ret.Error.Message);return}else{handle.update(ret)}},failure:function(req){indicator.hide();ratingContainer.style.display="";TB.trace($M("ajaxError"))}},postData)};handle.onRate=function(callback){if(YAHOO.lang.isFunction(callback)){onRateEvent.subscribe(callback)}};var triggers=ratingContainer.getElementsByTagName("a");for(var i=0;i<triggers.length;i++){$E.on(triggers[i],"click",rateHandler,handle)}return handle}};TB.widget.SimpleScroll=new function(){var Y=YAHOO.util;var defConfig={delay:2,speed:20,startDelay:2,direction:"vertical",disableAutoPlay:false,distance:"auto",scrollItemCount:1};this.decorate=function(container,config){container=$(container);config=TB.applyIf(config||{},defConfig);var step=2;if(config.speed<20){step=5}if(config.lineHeight){config.distance=config.lineHeight}var scrollTimeId=null,startTimeId=null,startDelayTimeId=null;var isHorizontal=(config.direction.toLowerCase()=="horizontal")||(config.direction.toLowerCase()=="h");var handle={};handle._distance=0;handle.scrollable=true;handle.distance=config.distance;handle._distance=0;handle.suspend=false;handle.paused=false;var _onScrollEvent=new Y.CustomEvent("_onScroll",handle,false,Y.CustomEvent.FLAT);_onScrollEvent.subscribe(function(){var curLi=container.getElementsByTagName("li")[0];if(!curLi){this.scrollable=false;return}this.distance=(config.distance=="auto")?curLi[isHorizontal?"offsetWidth":"offsetHeight"]:config.distance;with(container){if(isHorizontal){this.scrollable=(scrollWidth-scrollLeft-offsetWidth)>=this.distance}else{this.scrollable=(scrollHeight-scrollTop-offsetHeight)>=this.distance}}});var onScrollEvent=new Y.CustomEvent("onScroll",handle,false,Y.CustomEvent.FLAT);if(config.onScroll){onScrollEvent.subscribe(config.onScroll)}else{onScrollEvent.subscribe(function(){for(var i=0;i<config.scrollItemCount;i++){container.appendChild(container.getElementsByTagName("li")[0])}container[isHorizontal?"scrollLeft":"scrollTop"]=0})}var scroll=function(){if(handle.suspend){return}handle._distance+=step;var _d;if((_d=handle._distance%handle.distance)<step){container[isHorizontal?"scrollLeft":"scrollTop"]+=(step-_d);clearInterval(scrollTimeId);onScrollEvent.fire();_onScrollEvent.fire();startTimeId=null;if(handle.scrollable&&!handle.paused){handle.play()}}else{container[isHorizontal?"scrollLeft":"scrollTop"]+=step}};var start=function(){if(handle.paused){return}handle._distance=0;scrollTimeId=setInterval(scroll,config.speed)};$E.on(container,"mouseover",function(){handle.suspend=true});$E.on(container,"mouseout",function(){handle.suspend=false});TB.apply(handle,{subscribeOnScroll:function(func,override){if(override===true&&onScrollEvent.subscribers.length>0){onScrollEvent.unsubscribeAll()}onScrollEvent.subscribe(func)},pause:function(){this.paused=true;clearTimeout(startTimeId);startTimeId=null},play:function(){this.paused=false;if(startDelayTimeId){clearTimeout(startDelayTimeId)}if(!startTimeId){startTimeId=setTimeout(start,config.delay*1000)}}});handle.onScroll=handle.subscribeOnScroll;_onScrollEvent.fire();if(!config.disableAutoPlay){startDelayTimeId=setTimeout(function(){handle.play()},config.startDelay*1000)}return handle}};(function(){var A=YAHOO.util;TB.widget.Slide=function(B,C){this.init(B,C)};TB.widget.Slide.defConfig={slidesClass:"Slides",triggersClass:"SlideTriggers",currentClass:"Current",eventType:"click",autoPlayTimeout:5,disableAutoPlay:false};TB.widget.Slide.prototype={init:function(B,C){this.container=$(B);this.config=TB.applyIf(C||{},TB.widget.Slide.defConfig);try{this.slidesUL=$D.getElementsByClassName(this.config.slidesClass,"ul",this.container)[0];this.slides=$D.getChildren(this.slidesUL);if(this.slides.length==0){throw new Error()}}catch(D){throw new Error("can't find slides!")}this.delayTimeId=null;this.autoPlayTimeId=null;this.curSlide=-1;this.sliding=false;this.pause=false;this.onSlide=new A.CustomEvent("onSlide",this,false,A.CustomEvent.FLAT);if(YAHOO.lang.isFunction(this.config.onSlide)){this.onSlide.subscribe(this.config.onSlide,this,true)}this.initSlides();this.initTriggers();if(this.slides.length>0){this.play(1)}if(!this.config.disableAutoPlay){this.autoPlay()}if(YAHOO.lang.isFunction(this.config.onInit)){this.config.onInit.call(this)}},initTriggers:function(){var D=document.createElement("ul");this.container.appendChild(D);for(var C=0;C<this.slides.length;C++){var B=document.createElement("li");B.innerHTML=C+1;D.appendChild(B)}D.className=this.config.triggersClass;this.triggersUL=D;if(this.config.eventType=="mouse"){$E.on(this.triggersUL,"mouseover",this.mouseHandler,this,true);$E.on(this.triggersUL,"mouseout",function(E){clearTimeout(this.delayTimeId);this.pause=false},this,true)}else{$E.on(this.triggersUL,"click",this.clickHandler,this,true)}},initSlides:function(){$E.on(this.slides,"mouseover",function(){this.pause=true},this,true);$E.on(this.slides,"mouseout",function(){this.pause=false},this,true);$D.setStyle(this.slides,"display","none")},clickHandler:function(D){var C=$E.getTarget(D);var B=parseInt(TB.common.stripTags(C.innerHTML));while(C!=this.container){if(C.nodeName.toUpperCase()=="LI"){if(!this.sliding){this.play(B,true)}break}else{C=C.parentNode}}},mouseHandler:function(E){var D=$E.getTarget(E);var B=parseInt(TB.common.stripTags(D.innerHTML));while(D!=this.container){if(D.nodeName.toUpperCase()=="LI"){var C=this;this.delayTimeId=setTimeout(function(){C.play(B,true);C.pause=true},(C.sliding?0.5:0.1)*1000);break}else{D=D.parentNode}}},play:function(E,C){E=E-1;if(E==this.curSlide){return}var B=this.curSlide>=0?this.curSlide:0;if(C&&this.autoPlayTimeId){clearInterval(this.autoPlayTimeId)}var D=this.triggersUL.getElementsByTagName("li");D[B].className="";D[E].className=this.config.currentClass;this.slide(E);this.curSlide=E;if(C&&!this.config.disableAutoPlay){this.autoPlay()}},slide:function(C){var B=this.curSlide>=0?this.curSlide:0;this.sliding=true;$D.setStyle(this.slides[B],"display","none");$D.setStyle(this.slides[C],"display","block");this.sliding=false;this.onSlide.fire(C)},autoPlay:function(){var B=this;var C=function(){if(!B.pause&&!B.sliding){var D=(B.curSlide+1)%B.slides.length+1;B.play(D,false)}};this.autoPlayTimeId=setInterval(C,this.config.autoPlayTimeout*1000)}};TB.widget.ScrollSlide=function(B,C){this.init(B,C)};YAHOO.extend(TB.widget.ScrollSlide,TB.widget.Slide,{initSlides:function(){TB.widget.ScrollSlide.superclass.initSlides.call(this);$D.setStyle(this.slides,"display","")},slide:function(E){var B=this.curSlide>=0?this.curSlide:0;var C={scroll:{by:[0,this.slidesUL.offsetHeight*(E-B)]}};var D=new A.Scroll(this.slidesUL,C,0.5,A.Easing.easeOutStrong);D.onComplete.subscribe(function(){this.sliding=false;this.onSlide.fire(E)},this,true);D.animate();this.sliding=true}});TB.widget.FadeSlide=function(B,C){this.init(B,C)};YAHOO.extend(TB.widget.FadeSlide,TB.widget.Slide,{initSlides:function(){TB.widget.FadeSlide.superclass.initSlides.call(this);$D.setStyle(this.slides,"position","absolute");$D.setStyle(this.slides,"top",this.config.slideOffsetY||0);$D.setStyle(this.slides,"left",this.config.slideOffsetX||0);$D.setStyle(this.slides,"z-index",1)},slide:function(D){if(this.curSlide==-1){$D.setStyle(this.slides[D],"display","block")}else{var B=this.slides[this.curSlide];$D.setStyle(B,"display","block");$D.setStyle(B,"z-index",10);var C=new A.Anim(B,{opacity:{to:0}},0.5,A.Easing.easeNone);C.onComplete.subscribe(function(){$D.setStyle(B,"z-index",1);$D.setStyle(B,"display","none");$D.setStyle(B,"opacity",1);this.sliding=false;this.onSlide.fire(D)},this,true);$D.setStyle(this.slides[D],"display","block");C.animate();this.sliding=true}}})})();TB.widget.SimpleSlide=new function(){this.decorate=function(A,B){if(!A){return}B=B||{};if(B.effect=="scroll"){if(TB.bom.isGecko){if(YAHOO.util.Dom.get(A).getElementsByTagName("iframe").length>0){new TB.widget.Slide(A,B);return}}new TB.widget.ScrollSlide(A,B)}else{if(B.effect=="fade"){new TB.widget.FadeSlide(A,B)}else{new TB.widget.Slide(A,B)}}}};TB.widget.SimpleTab=new function(){var C=YAHOO.util;var A={eventType:"click",currentClass:"Current",tabClass:"",autoSwitchToFirst:true,stopEvent:true,delay:0.1};var B=function(F){var D=[];if(!F){return D}for(var E=0,G=F.childNodes;E<G.length;E++){if(G[E].nodeType==1){D[D.length]=G[E]}}return D};this.decorate=function(D,G){D=$(D);G=TB.applyIf(G||{},A);var K={};var L=B(D);var F=L.shift(0);var E=F.getElementsByTagName("li");var I,N;if(G.tabClass){I=$D.getElementsByClassName(G.tabClass,"*",D)}else{I=TB.common.toArray(F.getElementsByTagName("a"))}var O=new C.CustomEvent("onSwitch",null,false,C.CustomEvent.FLAT);if(G.onSwitch){O.subscribe(G.onSwitch)}var J=function(Q){if(N){M()}var P=I.indexOf(this);K.switchTab(P);if(G.stopEvent){try{$E.stopEvent(Q)}catch(R){}}return!G.stopEvent};var H=function(P){var Q=this;N=setTimeout(function(){J.call(Q,P)},G.delay*1000);if(G.stopEvent){$E.stopEvent(P)}return!G.stopEvent};var M=function(){clearTimeout(N)};if(G.eventType=="mouse"){$E.on(I,"focus",J);$E.on(I,"mouseover",G.delay?H:J);$E.on(I,"mouseout",M)}else{$E.on(I,"click",J)}TB.apply(K,{switchTab:function(P){$D.setStyle(L,"display","none");$D.removeClass(E,G.currentClass);$D.addClass(E[P],G.currentClass);$D.setStyle(L[P],"display","block");O.fire(P)},subscribeOnSwitch:function(P){O.subscribe(P)}});K.onSwitch=K.subscribeOnSwitch;$D.setStyle(L,"display","none");if(G.autoSwitchToFirst){K.switchTab(0)}return K}};TB.util.CountdownTimer=new function(){var F=YAHOO.util;var E=60;var D=E*60;var G=D*24;var C={formatStyle:"short",formatPattern:"",hideZero:true,timeoutText:"timeoutText",updatable:true};var A=function(H){return((H<10)?"0":"")+H};var B=function(H){return function(J,I){switch(I){case"d":return parseInt(H/G);case"dd":return A(parseInt(H/G));case"hh":return A(parseInt(H%G/D));case"h":return parseInt(H%G/D);case"mm":return A(parseInt(H%G%D/E));case"m":return parseInt(H%G%D/E);case"ss":return A(parseInt(H%G%D%E));case"s":return parseInt(H%G%D%E)}}};this.attach=function(H,I,K){H=$(H);I=parseInt(I);K=TB.applyIf(K||{},C);var N={};var O=new F.CustomEvent("onStart",null,false,F.CustomEvent.FLAT);if(K.onStart){O.subscribe(K.onStart)}var J=new F.CustomEvent("onEnd",null,false,F.CustomEvent.FLAT);if(K.onEnd){J.subscribe(K.onEnd)}var L=parseInt(new Date().getTime()/1000);var M=L+I;var P=function(){N.update()};N.update=function(){var T=K.formatPattern,R={},S=1;if(K.formatStyle=="long"){T="{d}"+$M("day")+"{hh}"+$M("hour")+"{mm}"+$M("minute")+"{ss}"+$M("second")}var Q=M-parseInt(new Date().getTime()/1000);if(Q<=0){H.innerHTML=$M(K.timeoutText);J.fire();return}else{if(Q>G){if(K.formatStyle=="short"){T="{d}"+$M("day")+"{hh}"+$M("hour");S=Math.floor(Q%G%D)||D}}else{if(Q>D){if(K.formatStyle=="short"){T="{hh}"+$M("hour")+"{mm}"+$M("minute");S=Math.floor(Q%D%E)||E}else{if(K.formatStyle=="long"&&K.hideZero){T="{hh}"+$M("hour")+"{mm}"+$M("minute")+"{ss}"+$M("second")}}}else{if(Q>0){if(K.formatStyle=="short"||(K.formatStyle=="long"&&K.hideZero)){T="{mm}"+$M("minute")+"{ss}"+$M("second")}}}}}H.innerHTML=TB.common.formatMessage(T,R,B(Q));if(K.updatable&&S>0){setTimeout(P,S*1000)}};N.init=function(){this.update();O.fire()};N.init();return N}};TB.util.Indicator=new function(){var A={message:"loading",useShim:false,useIFrame:false,centerIndicator:true};var B=function(D,C){shim=document.createElement("div");shim.className="tb-indic-shim";$D.setStyle(shim,"display","none");D.parentNode.insertBefore(shim,D);if(C){var E=document.createElement("iframe");E.setAttribute("frameBorder",0);E.className="tb-indic-shim-iframe";D.parentNode.insertBefore(E,D)}return shim};this.attach=function(F,D){F=$(F);D=TB.applyIf(D||{},A);var C=document.createElement("div");C.className="tb-indic";$D.setStyle(C,"display","none");$D.setStyle(C,"position","static");C.innerHTML="<span>"+$M(D.message)+"</span>";if(D.useShim){var G=B(F,D.useIFrame);G.appendChild(C)}else{F.parentNode.insertBefore(C,F)}var E={};E.show=function(I){if(D.useShim){var H=$D.getRegion(F);var K=C.parentNode;$D.setStyle(K,"display","block");$D.setXY(K,[H[0],H[1]]);$D.setStyle(K,"width",(H.right-H.left)+"px");$D.setStyle(K,"height",(H.bottom-H.top)+"px");if(D.useIFrame){var J=K.nextSibling;$D.setStyle(J,"width",(H.right-H.left)+"px");$D.setStyle(J,"height",(H.bottom-H.top)+"px");$D.setStyle(J,"display","block")}$D.setStyle(C,"display","block");$D.setStyle(C,"position","absolute");if(D.centerIndicator){$D.setStyle(C,"top","50%");$D.setStyle(C,"left","50%");C.style.marginTop=-(C.offsetHeight/2)+"px";C.style.marginLeft=-(C.offsetWidth/2)+"px"}}else{$D.setStyle(C,"display","");if(I){$D.setStyle(C,"position","absolute");$D.setXY(C,I)}}};E.hide=function(){if(D.useShim){var I=C.parentNode;$D.setStyle(C,"display","none");$D.setStyle(I,"display","none");if(D.useIFrame){$D.setStyle(C.parentNode.nextSibling,"display","none")}try{if(D.useIFrame){I.parentNode.removeChild(I.nextSibling)}I.parentNode.removeChild(I)}catch(H){}}else{$D.setStyle(C,"display","none");try{C.parentNode.removeChild(C)}catch(H){}}};return E}};TB.util.Pagination=new function(){var PAGE_SEPARATOR="...";var defConfig={pageUrl:"",prevPageClass:"PrevPage",noPrevClass:"NoPrev",prevPageText:"prevPageText",nextPageClass:"NextPage",nextPageText:"nextPageText",noNextClass:"NoNext",currPageClass:"CurrPage",pageParamName:"page",appendParams:"",pageBarMode:"bound",showIndicator:true,cachePageData:false};var cancelHandler=function(ev){$E.stopEvent(ev)};var pageHandler=function(ev,args){$E.stopEvent(ev);var target=$E.getTarget(ev);args[1].gotoPage(args[0])};var buildBoundPageList=function(pageIndex,pageCount){var l=[];var leftStart=1;var leftEnd=2;var mStart=pageIndex-2;var mEnd=pageIndex+2;var rStart=pageCount-1;var rEnd=pageCount;if(mStart<=leftEnd){leftStart=0;leftEnd=0;mStart=1}if(mEnd>=rStart){rStart=0;rEnd=0;mEnd=pageCount}if(leftEnd>leftStart){for(var i=leftStart;i<=leftEnd;++i){l[l.length]=""+i}if((leftEnd+1)<mStart){l[l.length]=PAGE_SEPARATOR}}for(var i=mStart;i<=mEnd;++i){l[l.length]=""+i}if(rEnd>rStart){if((mEnd+1)<rStart){l[l.length]=PAGE_SEPARATOR}for(var i=rStart;i<=rEnd;++i){l[l.length]=""+i}}return l};var buildPageEntry=function(idx,config){var liEl=document.createElement("li");if(idx!=PAGE_SEPARATOR){$D.addClass(liEl,(idx=="prev")?config.prevPageClass:(idx=="next")?config.nextPageClass:"");var aEl=document.createElement("a");aEl.setAttribute("title",(idx=="prev")?$M(config.prevPageText):(idx=="next")?$M(config.nextPageText):""+idx);aEl.href=buildPageUrl(idx,config)+"&t="+new Date().getTime();aEl.innerHTML=(idx=="prev")?$M(config.prevPageText):(idx=="next")?$M(config.nextPageText):idx;liEl.appendChild(aEl)}else{liEl.innerHTML=PAGE_SEPARATOR}return liEl};var buildPageUrl=function(idx,config){var url=config.pageUrl+(config.pageUrl.lastIndexOf("?")!=-1?"&":"?")+config.pageParamName+"="+idx;if(config.appendParams){url+="&"+config.appendParams}return url};this.attach=function(pageBarContainer,pageDataContainer,config){pageBarContainer=$(pageBarContainer);pageDataContainer=$(pageDataContainer);config=TB.applyIf(config||{},defConfig);if(config.cachePageData){var pageDataCache={}}var ulEl=document.createElement("ul");pageBarContainer.appendChild(ulEl);var pageLoadEvent=new YAHOO.util.CustomEvent("pageLoad",null,false,YAHOO.util.CustomEvent.FLAT);var handle={};handle.rebuildPageBar=function(pageObj){if(!pageObj){return}this.pageIndex=parseInt(pageObj.PageIndex);this.totalCount=parseInt(pageObj.TotalCount);this.pageCount=parseInt(pageObj.PageCount);this.pageSize=parseInt(pageObj.PageSize);ulEl.innerHTML="";var list=this.repaginate();var prevLiEl=buildPageEntry("prev",config);if(!this.isPrevPageAvailable()){$D.addClass(prevLiEl,config.noPrevClass);$E.on(prevLiEl,"click",cancelHandler)}else{$E.on(prevLiEl,"click",pageHandler,[this.pageIndex-1,this])}ulEl.appendChild(prevLiEl);for(var i=0;i<list.length;i++){var liEl=buildPageEntry(list[i],config);if(list[i]==this.pageIndex){$D.addClass(liEl,config.currPageClass);$E.on(liEl,"click",cancelHandler)}else{$E.on(liEl,"click",pageHandler,[list[i],this])}ulEl.appendChild(liEl)}var nextLiEl=buildPageEntry("next",config);if(!this.isNextPageAvailable()){$D.addClass(nextLiEl,config.noNextClass);$E.on(nextLiEl,"click",cancelHandler)}else{$E.on(nextLiEl,"click",pageHandler,[this.pageIndex+1,this])}ulEl.appendChild(nextLiEl)};handle.repaginate=function(){var mode=config.pageBarMode;if(mode=="bound"){return buildBoundPageList(parseInt(this.pageIndex),parseInt(this.pageCount))}else{if(mode=="line"){var l=[];for(var i=1;i<=this.pageCount;i++){l.push(i)}return l}else{if(mode=="eye"){return[]}}}};handle.gotoPage=function(idx){this.disablePageBar();if(config.showIndicator){$D.setStyle(pageDataContainer,"display","none");var indicator=TB.util.Indicator.attach(pageDataContainer,{message:$M("loading")});indicator.show()}var url=buildPageUrl(idx,config);if(config.cachePageData){if(pageDataCache[url]){handle.showPage(pageDataCache[url]);return}}YAHOO.util.Connect.asyncRequest("GET",url+"&t="+new Date().getTime(),{success:function(req){var resultSet=eval("("+req.responseText+")");handle.showPage(resultSet.Pagination);if(config.cachePageData){pageDataCache[url]=resultSet.Pagination}if(config.showIndicator){indicator.hide();$D.setStyle(pageDataContainer,"display","block")}},failure:function(req){if(config.showIndicator){$D.setStyle(pageDataContainer,"display","block");indicator.hide()}handle.rebuildPageBar();alert($M("ajaxError"))}})};handle.showPage=function(pageObj){this._showPage(pageObj);this.rebuildPageBar(pageObj);pageLoadEvent.fire(pageObj)};handle._showPage=function(pageObj){if(pageObj.PageData&&YAHOO.lang.isString(pageObj.PageData)){pageDataContainer.innerHTML=pageObj.PageData}};handle.isNextPageAvailable=function(){return this.pageIndex<this.pageCount};handle.isPrevPageAvailable=function(){return this.pageIndex>1};handle.disablePageBar=function(){$D.addClass(pageBarContainer,"Disabled");$E.purgeElement(pageBarContainer,true,"click");var els=TB.common.toArray(pageBarContainer.getElementsByTagName("a"));els.forEach(function(el,i){$E.on(el,"click",cancelHandler);el.disabled=1})};handle.onPageLoad=function(callback){if(YAHOO.lang.isFunction(callback)){pageLoadEvent.subscribe(callback)}};handle.setAppendParams=function(params){config.appendParams=params};return handle}};TB.util.QueryData=function(){this.data=[];this.addField=function(A){for(var B=0;B<arguments.length;B++){var C=arguments[B];if(C){this.add(C.name,encodeURIComponent(C.value))}}};this.add=function(A,B){this.data.push({"name":A,"value":B})};this.get=function(A){for(var B=0;B<this.data.length;B++){if(this.data[B].name===A){return this.data[B].value}}return null};this.toQueryString=function(){var A=this.data.map(function(C,B){return C.name+"="+C.value});return A.join("&")}};TB.form.CheckboxGroup=new function(){var E=YAHOO.util;var B={checkAllBox:"CheckAll",checkAllBoxClass:"tb:chack-all",checkOnInit:true};var D=function(G,F){return G.checked};var A=function(G,F){if(G.type&&G.type.toLowerCase()=="checkbox"){G.checked=true}};var C=function(G,F){if(G.type&&G.type.toLowerCase()=="checkbox"){G.checked=false}};this.attach=function(K,G){G=TB.applyIf(G||{},B);var J={};var H=new E.CustomEvent("onCheck",J,false,E.CustomEvent.FLAT);var I=[];if(K){if(K.length){I=TB.common.toArray(K)}else{I[0]=K}}var L=[];if(G.checkAllBoxClass){L=$D.getElementsByClassName(G.checkAllBoxClass,null,I[0].form)}if($(G.checkAllBox)){L.push($(G.checkAllBox))}var F=function(){var O=I.filter(D);if(I.length==0){L.forEach(C)}else{L.forEach((O.length==I.length)?A:C)}J._checkedBoxCount=O.length};var M=function(O){var P=$E.getTarget(O);F();H.fire(P);return true};TB.apply(J,{_checkedBoxCount:0,onCheck:function(O){H.subscribe(O)},isCheckAll:function(){return this._checkedBoxCount==I.length},isCheckNone:function(){return this._checkedBoxCount==0},isCheckSome:function(){return this._checkedBoxCount!=0},isCheckSingle:function(){return this._checkedBoxCount==1},isCheckMulti:function(){return this._checkedBoxCount>1},toggleCheckAll:function(){var O=I.every(D);I.forEach(O?C:A);if(I.length==0){L.forEach(C)}else{L.forEach(O?C:A)}J._checkedBoxCount=(O)?0:I.length;I.forEach(function(P){H.fire(P)})},toggleChecked:function(O){O.checked=!O.checked;F();H.fire(O)},getCheckedBoxes:function(){return I.filter(D)}});$E.on(I,"click",M);if(G.onCheck&&YAHOO.lang.isFunction(G.onCheck)){H.subscribe(G.onCheck,J,true)}if(L.length>0){$E.on(L,"click",J.toggleCheckAll)}if(G.checkOnInit){F();var N=function(){I.forEach(function(O){H.fire(O)})};setTimeout(N,10)}return J}};TB.form.TagAssistor=new function(){var B={separator:" ",selectedClass:"Selected"};var A=function(E,D){return E.indexOf(TB.common.trim(D.innerHTML))!=-1};var C=function(D,E){var F=D.value.replace(/\s+/g," ").trim();if(F.length>0){return F.split(E)}else{return[]}};this.attach=function(E,F,G){E=$(E);F=$(F);G=TB.applyIf(G||{},B);var H=TB.common.toArray(F.getElementsByTagName("a"));var J=function(L){var K=C(E,G.separator);var M=$E.getTarget(L);if(A(K,M)){K.remove(TB.common.trim(M.innerHTML))}else{K.push(TB.common.trim(M.innerHTML))}D(K);E.value=K.join(G.separator)};var D=function(K){H.forEach(function(M,L){if(A(K,M)){$D.addClass(M,G.selectedClass)}else{$D.removeClass(M,G.selectedClass)}})};var I={};I.init=function(){var K=C(E,G.separator);H.forEach(function(M,L){if(A(K,M)){$D.addClass(M,G.selectedClass)}$E.on(M,"click",J)});$E.on(E,"keyup",function(M){var L=C(E,G.separator);D(L)})};I.init()}}
var AE={};AE.widget=TB.widget;AE.browse=TB.bom;AE.bom=TB.bom;AE.common=TB.common;AE.dom=TB.dom;AE.namespace=function(){var a=arguments,o=null,i,j,d;for(i=0;i<a.length;i=i+1){d=a[i].split(".");o=AE;for(j=(d[0]=="AE")?1:0;j<d.length;j=j+1){o[d[j]]=o[d[j]]||{};o=o[d[j]];}}
return o;};AE.cpAttribute=function(obj,config){if(obj&&config&&typeof config=='object'){for(var p in config){if(!YAHOO.lang.hasOwnProperty(obj,p))
obj[p]=config[p];}}
return obj;}
if(!IL){var IL={ok:"Ok",cancel:"Cancel"};}
var YL=YAHOO.lang;var YUD=YAHOO.util.Dom;var YUE=YAHOO.util.Event;YUD.setCookie=TB.bom.setCookie;YUD.getCookie=TB.bom.getCookie;YUD.deleteCookie=TB.bom.removeCookie;function vd(p){}
String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"");}
String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"");}
String.prototype.isEmpty=function(){if(this==""||this==''){return true;}else{return false;}}
YL.isEnglish=function(sValue){var myReg=/[^\x00-\x80]/g;if(myReg.test(sValue)){return false;}else{return true;}}
YL.isAscii=function(sValue){var myReg=/[^\x00-\xFF]/g;if(myReg.test(sValue)){return false}else{return true;}}
var get=YUD.get;function controlListShow(e,sClassName,sTagName,sParentNodeId,sVisible){var items=YUD.getElementsByClassName(sClassName,sTagName,get(sParentNodeId));if(sVisible||sVisible==''||sVisible==""){YUD.setStyle(items,"display",sVisible);}else{if(items[0].style.display=="none"){YUD.setStyle(items,"display","");}else{YUD.setStyle(items,"display","none");}}}
function addMoreAttributeContent(sContent,sButtonId,sContainerTagName){var oActionButton=get(sButtonId);var span=document.createElement(sContainerTagName);var separator=document.createElement('div');separator.style.Clear="both";span.innerHTML=sContent;oActionButton.parentNode.insertBefore(separator,oActionButton);oActionButton.parentNode.insertBefore(span,oActionButton);}
function setCheckedFlag(formObj,eleNameArr,checkedFlag){for(var i=0;i<formObj.elements.length;i++){var ele=formObj.elements[i];for(var j=0;j<eleNameArr.length;j++){if(ele.name==eleNameArr[j]){ele.checked=checkedFlag;break;}}}}
function getCheckedRecordNum(formObj,eleNameArr){var checkedNum=0;for(var i=0;i<formObj.elements.length;i++){var ele=formObj.elements[i];for(var j=0;j<eleNameArr.length;j++){if(ele.name==eleNameArr[j]&&ele.checked){checkedNum++;break;}}}
return checkedNum;}
function trim(str){return(trimExt(str,' '));}
function trimExt(str,ch){if(str==null)return(null);var start=0,end=0;var i=0;while(i<str.length){if(str.charAt(i)==ch){i++;}else{start=i;break;}}
i=str.length-1;while(i>=0){if(str.charAt(i)==ch){i--;}else{end=i+1;break;}}
return(str.substring(start,end));}
function isNumber(value){if(trim(value)!=''&&!isNaN(value)&&(value.indexOf('.')==-1)){return(true);}
return(false);}
function initSelectWithValue(selectObj,oldValue){for(var i=0;i<selectObj.length;i++){if(selectObj[i].value==oldValue){selectObj[i].selected=true;break;}}}
function initGsSelectWithValue(selectObj,oldValue,searchtype){if("offer_en"==searchtype||"product_en"==searchtype){for(var i=0;i<selectObj.length;i++){if(selectObj.options[i].value==searchtype){selectObj.options[i].selected=true;break;}}}
else{for(var i=0;i<selectObj.length;i++){if(selectObj.options[i].value==oldValue){selectObj.options[i].selected=true;break;}}}}
function encode(str){if(str==null)return'';var retStr=escape(str);if(str.indexOf('+')!=-1){retStr=retStr.replace(/\+/g,'%2B');}
if(str.indexOf('/')!=-1){retStr=retStr.replace(/\//g,'%2F');}
return retStr;}
function XMLEncode(str){str=trim(str);str=str.replace(/&/g,"&amp;");str=str.replace(/</g,"&lt;");str=str.replace(/>/g,"&gt;");str=str.replace(/\'/g,"&#39;");str=str.replace(/\"/g,"&quot;");return str;}
function XMLDecode(str){str=trim(str);str=str.replace(/&amp;/g,"&");str=str.replace(/&lt;/g,"<");str=str.replace(/&gt;/g,">");str=str.replace(/&apos;|&#39;/g,"'");str=str.replace(/&quot;/g,"\"");return str;}
function adjustImageSize(imageObj,maxHeight,maxWidth){if(maxHeight<imageObj.height){imageObj.height=maxHeight;}
if(maxWidth<imageObj.width){imageObj.width=maxWidth;}}
function setImgSize(theURL,sImage){var imgObj;var sizeStand=180;if(arguments.length>=3){sizeStand=arguments[2];}
imgObj=new Image();imgObj.src=theURL;if((imgObj.width!=0)&&(imgObj.height!=0)){if(imgObj.width>sizeStand||imgObj.height>sizeStand){if(imgObj.width>imgObj.height){var iHeight=imgObj.height*sizeStand/imgObj.width;sImage.height=iHeight;sImage.width=sizeStand;}else{var iWidth=imgObj.width*sizeStand/imgObj.height;sImage.width=iWidth;sImage.height=sizeStand;}}else{sImage.width=imgObj.width;sImage.height=imgObj.height;}}else{sImage.width=sizeStand;sImage.height=sizeStand;}}
function setImgSizeWH(theURL,sImage,imgW,imgH){var imgObj;imgObj=new Image();imgObj.src=theURL;if((imgObj.width!=0)&&(imgObj.height!=0)){if(imgObj.width>imgW||imgObj.height>imgH){var iHeight=imgObj.height*imgW/imgObj.width;if(iHeight<=imgH){sImage.width=imgW;sImage.height=iHeight;}else{var iWidth=imgObj.width*imgH/imgObj.height;sImage.width=iWidth;sImage.height=imgH;}}else{sImage.width=imgObj.width;sImage.height=imgObj.height;}}else{sImage.width=imgW;sImage.height=imgH;}}
function setBigImgSize(theURL,sImage){var imgObj;var sizeStand=360;if(arguments.length>=3){sizeStand=arguments[2];}
imgObj=new Image();imgObj.src=theURL;imgObj.onLoad=setBigImgInner(imgObj,sImage,sizeStand);}
function fixOverflowBox(objID,maxWidth,minWidth){obj=document.getElementById(objID);if(!obj){return;}
obj.style.overflow="hidden";if(isIEBrowse()){if(window.screen.width>=1024){obj.style.width=maxWidth+"px";}else if(window.screen.width<1024){obj.style.width=minWidth+"px";}}}
function setBigImgInner(imgObj,sImage,sizeStand){if((imgObj.width!=0)&&(imgObj.height!=0)){if(imgObj.width>sizeStand||imgObj.height>sizeStand){if(imgObj.width>imgObj.height){var iHeight=imgObj.height*sizeStand/imgObj.width;sImage.height=iHeight;sImage.width=sizeStand;}else{var iWidth=imgObj.width*sizeStand/imgObj.height;sImage.width=iWidth;sImage.height=sizeStand;}}else{sImage.width=imgObj.width;sImage.height=imgObj.height;}}else{sImage.width=sizeStand;sImage.height=sizeStand;}}
function setGsBigImgSize(theURL,sImage){var imgObj;var sizeStand=360;imgObj=new Image();imgObj.src=theURL;imgObj.onLoad=setGsImgInner(imgObj,sImage,sizeStand);}
function setGsImgInner(imgObj,sImage,sizeStand){if((imgObj.width!=0)&&(imgObj.height!=0)){if(imgObj.width>sizeStand){var iHeight=imgObj.height*sizeStand/imgObj.width;sImage.height=iHeight;sImage.width=sizeStand;}else{sImage.width=imgObj.width;sImage.height=imgObj.height;}}else{sImage.width=sizeStand;sImage.height=sizeStand;}}
function bbimg(o){var zoom=parseInt(o.style.zoom,10)||100;zoom+=event.wheelDelta/12;if(zoom>0)o.style.zoom=zoom+'%';return false;}
function clk(tl){if(document.images){var _random=(new Date()).getTime();new Image().src="http://tracelog.www.alibaba.com/null.gif?fresh="+_random+"&tracelog="+escape(tl);}
return true;}
var initText=new Array('Enter product keyword');function clearSearchText(obj){if(obj==null)return;for(var i=0;i<initText.length;i++){if(initText[i]==obj.value){obj.value='';return;}}}
function isIEBrowse(){var name=navigator.appName;if(name=="Microsoft Internet Explorer"){return true;}else{return false;}}
function adjustScreenWidth(divId){if(document.getElementById(divId)!=null)return;if(isIEBrowse()){if(window.screen.width>=1024){document.write("<div id='"+divId+"' style='width:982px'>");}else if(window.screen.width<1024){document.write("<div id='"+divId+"' style='width:758px'>");}}
else{document.write("<div id='"+divId+"'>");}}
function encodeKeyword(str){if(str==null)return'';str=str.replace(/(^\s*)|(\s*$)/g,"");str=str.replace(/(\s+)/g,"_");str=encode(str);return encode(str);}
function loadscript(newSrc,replaceID){var oldscript=document.getElementById(replaceID)
var newscript=document.createElement("script")
newscript.type="text/javascript";newscript.id=replaceID;newscript.src=newSrc;if(oldscript==null){document.getElementsByTagName('body')[0].appendChild(newscript);}
else{document.getElementsByTagName('body')[0].replaceChild(newscript,oldscript);}}
function tempTrackObj(code){if(document.images)
{new Image().src="http://tracelog.www.alibaba.com/null.gif?tracelog="+escape(code);}
return true;}
function agTrack(code1,code2){return tempTrackObj("angel_"+code1+"_"+code2);}
function loadHtml(theSrc){if(theSrc==null)return;var iframe=document.createElement("iframe");iframe.frameborder='0';iframe.height='0';iframe.width='0';iframe.scrolling='no'
iframe.style.display="none";iframe.src=theSrc;document.getElementsByTagName('body')[0].appendChild(iframe);}
function writeHiddenIFrame(iframeWidth,iframeHeight){if(!iframeWidth){iframeWidth=0;}
if(!iframeHeight){iframeHeight=0;}
document.write('<div style="display:none">');document.write('<iframe name="_SearchDictFrame" scrolling="no" id="_SearchDictFrame" frameborder="0" width="'+iframeWidth+'" height="'+iframeHeight+'"  marginwidth="0" marginheight="0" hspace="0" vspace="0" ></iframe>');document.write('</div>');}
function openWinForReferrer(url){var a=document.createElement('a');if(!a.click){window.open(url);return;}
a.setAttribute('href',url);a.setAttribute('target','_blank');a.style.display='none';document.body.appendChild(a);a.click();}
function gotoUrlForReferrer(url){var a=document.createElement('a');if(!a.click){window.location=url;return;}
a.setAttribute('href',url);a.style.display='none';document.body.appendChild(a);a.click();}
AE.namespace('AE.event');AE.event.isParent=function(ev,el){var parent=ev.relatedTarget;while(parent&&parent!=el)try{parent=parent.parentNode;}catch(error){parent=el;}
return(parent!=el);}
AE.event.onEnter=function(target,enterFunction,args,scope){if(AE.bom.isIE){YUE.on(target,'mouseenter',enterFunction,args,scope);}else{YUE.on(target,'mouseover',function(ev,args){if(!AE.event.isParent(ev,this))return;enterFunction.call(scope,ev,args);},args,scope);}}
AE.event.onLeave=function(target,leaveFunction,args,scope){if(AE.bom.isIE){YUE.on(target,'mouseleave',leaveFunction,args,scope);}else{YUE.on(target,'mouseout',function(ev,args){if(!AE.event.isParent(ev,this))return;leaveFunction.call(scope,ev,args);},args);}}
AE.namespace('AE.tools');AE.tools.defineEmptyLinks=function(target){var toDefines=[];if(typeof(target)=="object"&&target.length>1){toDefines=target;}else{toDefines.push(target);}
for(x=0;x<toDefines.length;x++){var linkBox=toDefines[x];var links=get(linkBox).getElementsByTagName("a");for(i=0;i<links.length;i++){var link=links[i];if(!link.href){link.href="javascript:void(0);";}}}
return toDefines;};AE.tools.depthMerge=function(){var o={},a=arguments;for(var i=0,l=a.length;i<l;i++){for(var key in a[i]){if(YL.isArray(a[i][key])||YL.isFunction(a[i][key])||!YL.isObject(a[i][key])){o[key]=a[i][key];continue;}
if(o[key]==null){o[key]={};}
o[key]=AE.tools.depthMerge(o[key],a[i][key]);}}
return o;};AE.namespace('AE.fix.imageLoader');AE.fix.imageLoader=function(){var im=new Image();for(var i=0,j=arguments.length;i<j;i++){im.src=arguments[i];}};

AE.webInfo=new function(){var _self=this;var defConfig={signoutURL:'http://us.my.alibaba.com/user/sign/sign_out.htm',signinURL:'https://login.alibaba.com',joinWithCD0URL:'http://us.my.alibaba.com/user/join/express_join.htm?cd=0&ws_reg_ori=home&tracelog=ws_topbar',joinFro:''};var sysLanguage=navigator.browserLanguage?navigator.browserLanguage:navigator.language;var config;var isLoggedIn=false,firstName='',lastName='',country='',serviceType='';var fromChina=false,firstIn=false,openAlertWindow=false;_self.create=function(oConfig){config=TB.applyIf(oConfig||{},defConfig);var userCookie=AE.bom.getCookie('ali_non_s_ever');if(userCookie.trim().length=='0'){var userCookie=AE.bom.getCookie('ali_non_s_temp');}
var isLoginCookie=AE.bom.getCookie('ali_non_s_temp');if(isLoginCookie){if(isLoginCookie=='is_sign=y'){isLoggedIn=true;}}
if(!userCookie){_self.clearSignInInfo();}else{userCookie=userCookie.split('-_-');if(userCookie.length<4){_self.clearSignInInfo();}else{country=userCookie[0];firstName=userCookie[1].replace(/</g,"&lt;").replace(/>/g,"&gt;");lastName=userCookie[2].replace(/</g,"&lt;").replace(/>/g,"&gt;");serviceType=userCookie[3];}}
if(_self.hasLoggedIn()){if(_self.getServiceType()=='cgs'||_self.getServiceType()=='hkgs'||_self.getServiceType()=='gs'){fromChina=true;}else{fromChina=false;}}else{if(sysLanguage.toLowerCase()=='zh-cn'){fromChina=true;}else{fromChina=false;}}
if(AE.bom.getCookie('ali_intl_firstIn').isEmpty()){firstIn=true;AE.bom.setCookie('ali_intl_firstIn','n',true);}};_self.isFirstIn=function(){return firstIn;}
_self.clearSignInInfo=function(){isLoggedIn=false;country='';firstName='';lastName='';serviceType='';};_self.setUri=function(obj){config=TB.applyIf(obj||{},defConfig);};_self.isChinaUser=function(){return fromChina;}
_self.writeWelcomeInfo=function(welId){dWel=get(welId);if(!dWel){return false;}
var siteName="AliExpress";if(_self.isFirstIn()){dWel.innerHTML='Welcome to '+siteName+'! <span id="log-info"><a href="'+config.signinURL+'" rel="nofollow">Sign In</a> | <a href="'+config.joinWithCD0URL+'" rel="nofollow">Join Free</a></span>';}else{if(_self.hasLoggedIn()&&!_self.getFirstName().trim().isEmpty()){dWel.innerHTML='Welcome '+_self.getFirstName()+'! | <span id="log-info"><a href="'+config.signoutURL+'" rel="nofollow">Sign Out</a></span>';}else if(!_self.getFirstName().trim().isEmpty()){dWel.innerHTML='Welcome '+_self.getFirstName()+'! <a href="'+config.signinURL+'" rel="nofollow">Sign In</a> (Not <a href="'+config.signinURL+'" style="font-weight:bold;text-decoration:underline;" rel="nofollow">you</a>?) | <a href="'+config.joinWithCD0URL+'" rel="nofollow">Join Free</a>';}else{dWel.innerHTML='Welcome to '+siteName+'! <span id="log-info"><a href="'+config.signinURL+'" rel="nofollow">Sign In</a> | <a href="'+config.joinWithCD0URL+'" rel="nofollow">Join Free</a></span>';}}}
_self.hasLoggedIn=function(){return isLoggedIn;};_self.getFirstName=function(){return(firstName.length>20)?firstName.substr(0,20):firstName;};_self.getLastName=function(){return lastName;};_self.getCountry=function(){return country;};_self.getServiceType=function(){return serviceType;};_self.signin=function(sReturnUrl){var sTarget='';if(top.location.href!=self.location.href){(sReturnUrl==null)?sReturnUrl=escape(extractUrl(self.location.href)):sReturnUrl=escape(sReturnUrl);sTarget='_top';}else{(sReturnUrl==null)?sReturnUrl=escape(location.href):sReturnUrl=escape(sReturnUrl);sTarget='_self';};var url=config.signinURL+"?Done="+sReturnUrl;window.open(url,sTarget);};var openFirstInWindowHandle=function(){if(openAlertWindow){}}
_self.firstInOpenWin=function(){if(_self.isFirstIn()){openAlertWindow=true;}
YUE.on(document,'click',function(){openAlertWindow=false;});YUE.on(get('SearchTextIdx'),'keydown',function(){openAlertWindow=false;});YUE.on(window,'unload',openFirstInWindowHandle);}};function signin(){AE.webInfo.signin();}

if(!AE.widget.overShow){AE.widget.overShow=function(){var _self=this;var defConfig={targetId:"overShowTargetId",targetEl:null,positionId:false,contentId:"overShowContentId",showDelayTime:200,hiddenDelayTime:200,excursion:[0,0],needMask:false,needXY:true,closeBtnClass:"close-button"};var config;var isInited=false;var dTarget,dPosition,dContent,iframeMask;var delayTimer=false;var canClose=true,contentShowed=false,holded=false;_self.hold=function(){holded=true;}
_self.setFree=function(){holded=false;}
_self.afterShow=new YAHOO.util.CustomEvent("afterShow",_self);_self.afterShowDelay=new YAHOO.util.CustomEvent("afterShowDelay",_self);_self.afterHidden=new YAHOO.util.CustomEvent("afterHidden",_self);_self.afterHiddenDelay=new YAHOO.util.CustomEvent("afterHiddenDelay",_self);_self.init=function(oConfig){if(isInited)
return false;config=YL.merge(defConfig,oConfig);if(!config.targetEl){dTarget=get(config.targetId);}
else{dTarget=config.targetEl;}
dPosition=config.positionId?get(config.positionId):false;dContent=get(config.contentId);YUE.on(dTarget,"mouseover",_self.showDelay);YUE.on(dTarget,"mouseout",_self.hiddenDelay);YUE.on(dContent,"mouseout",_self.hiddenDelay);YUE.on(dTarget,"mouseover",function(){canClose=false;});YUE.on(dContent,"mouseover",function(){canClose=false;});YUE.on(dTarget,"mouseout",function(){canClose=true;});YUE.on(dContent,"mouseout",function(){canClose=true;});if(config.needMask){iframeMask=document.createElement("iframe");iframeMask.className="maskIframe";iframeMask.style.display="none";if(AE.bom.isIE6&&location.protocol=="https:"){iframeMask.src=globalImgServer+"/js/blank.html";}
iframeMask.style.zIndex=YUD.getStyle(dContent,'zIndex')-1;iframeMask.style.top="0px";iframeMask.style.left="0px";iframeMask.frameBorder=0;dContent.parentNode.appendChild(iframeMask);}
var closeBtns=YUD.getElementsByClassName(config.closeBtnClass);if(closeBtns){YUE.on(closeBtns,"click",function(){canClose=true;_self.hiddenDirectly();});}}
_self._onDContentMouseOver=function(e){if(!dTarget||dTarget==undefined){return;}
_self.afterShowDelay.fire(dTarget);if(delayTimer){clearTimeout(delayTimer);}
delayTimer=setTimeout(function(){_self.showDirectly();},config.showDelayTime);}
_self.showDelay=function(e){YUE.on(dContent,"mouseover",_self._onDContentMouseOver);if(dTarget!=this){canClose=true;_self.hiddenDirectly();}
dTarget=this;_self.afterShowDelay.fire(dTarget);if(delayTimer){clearTimeout(delayTimer);}
delayTimer=setTimeout(function(){_self.showDirectly();},config.showDelayTime);}
_self.showDirectly=function(){if(contentShowed||holded){return;}
dContent.style.visibility='hidden';dContent.style.display="";if(config.needXY){var xy=YUD.getXY(dPosition||dTarget);parsePos(dTarget,config.excursion);xy[0]+=config.excursion[0];xy[1]+=config.excursion[1];}
dContent.style.visibility='visible';dContent.style.display='';if(config.needXY){YUD.setXY(dContent,xy);}
_self.afterShow.fire(dTarget);contentShowed=true;if(config.needMask){iframeMask.style.display="";iframeMask.style.width=dContent.offsetWidth+"px";iframeMask.style.height=dContent.offsetHeight+"px";if(config.needXY){YUD.setXY(iframeMask,xy);}
iframeMask.style.visibility="visible";}}
_self.hiddenDelay=function(e){_self.afterHiddenDelay.fire();if(holded==true){return;}
if(delayTimer){clearTimeout(delayTimer);}
delayTimer=setTimeout(_self.hiddenDirectly,config.hiddenDelayTime);};_self.hiddenDirectly=function(){YUE.removeListener(dContent,'mouseover',_self._onDContentMouseOver);if(!canClose){return false;}
_self.afterHidden.fire();if(dContent){dContent.style.display="none";}
if(config.needMask){iframeMask.style.display="none";}
contentShowed=false;}
var parsePos=function(dTarget,aPos){if(typeof(aPos[0])=='string'){if(aPos[0]=='auto'){(isContentOverflow())?aPos[0]='right':aPos[0]='left';}
switch(aPos[0]){case'center':aPos[0]=parseInt(dPosition?(dPosition.offsetWidth-dContent.offsetWidth)/2:(dTarget.offsetWidth-dContent.offsetWidth)/2);break;case'right':aPos[0]=((dPosition?dPosition.offsetWidth:dTarget.offsetWidth)-dContent.offsetWidth);break;default:aPos[0]=0;}}
if(typeof(aPos[1])=='string'){switch(aPos[1]){case'center':aPos[1]=parseInt(dPosition?(dPosition.offsetHeight-dContent.offsetHeight)/2:(dTarget.offsetHeight-dContent.offsetHeight)/2);break;case'bottom':aPos[1]=dPosition?dPosition.offsetHeight:dTarget.offsetHeight;break;default:aPos[1]=0;}}
return aPos;}
var isContentOverflow=function(){return document.body.offsetWidth<(YUD.getX(dPosition||dTarget)+dContent.offsetWidth);}}}

AE.namespace('AE.searchBar');AE.searchBar=function(){this.config={bar:get("searchBar"),form:get("SearchForm"),tabsBox:get("searchTabsBox"),searchInput:get("SearchTextIdx"),intelligent:get("searchIntelligent"),hintClass:"hint",countrySelect:get("searchCountry"),submitBtn:get("searchSubmit"),hiddenIndexArea:get("searchIndexArea"),advanceSearchLink:"http://www.alibaba.com/trade/advancesearch",onlyOneShow:false,isNeedSubmit:true,isBlank:false,selectlinkDatas:{country_home:{AU:'Australia',BR:'Brazil',CA:'Canada',CN:'China (Mainland)',EG:'Egypt',HK:'Hong Kong',IN:'India',ID:'Indonesia',JP:'Japan',MY:'Malaysia',PH:'Philippines',SG:'Singapore',KR:'South Korea',TW:'Taiwan',TH:'Thailand',TR:'Turkey',UK:'United Kingdom',US:'United States',VN:'Vietnam',advanceSearch:'More ...'},country_listing:{AU:'Australia',BR:'Brazil',CA:'Canada',CN:'China (Mainland)',EG:'Egypt',HK:'Hong Kong',IN:'India',ID:'Indonesia',JP:'Japan',MY:'Malaysia',PH:'Philippines',SG:'Singapore',KR:'South Korea',TW:'Taiwan',TH:'Thailand',TR:'Turkey',UK:'United Kingdom',US:'United States',VN:'Vietnam','':'----------------------',afr:'[Africa]','nam,csa':'[Americas]','asi,gcn':'[Asia]',asi:'[Asia (except China)]',aoc:'[Oceania]',csa:'[Central and South America]',eec:'[Eastern Europe and CIS]','weu,eec':'[Europe and CIS]',gcn:'[Great China]',mea:'[Middle East]',nam:'[North America]',weu:'[Western Europe]',advanceSearch:'More ...'}},locations:{AF:'Afghanistan',AL:'Albania',DZ:'Algeria',AS:'American Samoa',AD:'Andorra',AO:'Angola',AI:'Anguilla',AQ:'Antarctica',AG:'Antigua and Barbuda',AR:'Argentina',AM:'Armenia',AW:'Aruba',AU:'Australia',AT:'Austria',AZ:'Azerbaijan',BS:'Bahamas',BH:'Bahrain',BD:'Bangladesh',BB:'Barbados',BY:'Belarus',BE:'Belgium',BZ:'Belize',BJ:'Benin',BM:'Bermuda',BT:'Bhutan',BO:'Bolivia',BA:'Bosnia and Herzegowina',BW:'Botswana',BV:'Bouvet Island',BR:'Brazil',IO:'British Indian Ocean Territory',BN:'Brunei Darussalam',BG:'Bulgaria',BF:'Burkina Faso',BI:'Burundi',KH:'Cambodia',CM:'Cameroon',CA:'Canada',CV:'Cape Verde',KY:'Cayman Islands',CF:'Central African Republic',TD:'Chad',CD:'Channel Island',CL:'Chile',CN:'China (Mainland)',CX:'Christmas Island',CC:'Cocos (Keeling) Islands',CO:'Colombia',KM:'Comoros',CG:'Congo',ZR:'Congo, The Democratic Republic Of The',CK:'Cook Islands',CR:'Costa Rica',CI:'Cote D\'Ivoire',HR:'Croatia (local name: Hrvatska)',CU:'Cuba',CY:'Cyprus',CZ:'Czech Republic',DK:'Denmark',DJ:'Djibouti',DM:'Dominica',DO:'Dominican Republic',TP:'East Timor',EC:'Ecuador',EG:'Egypt',SV:'El Salvador',GQ:'Equatorial Guinea',ER:'Eritrea',EE:'Estonia',ET:'Ethiopia',FK:'Falkland Islands (Malvinas)',FO:'Faroe Islands',FJ:'Fiji',FI:'Finland',FR:'France',FX:'France Metropolitan',GF:'French Guiana',PF:'French Polynesia',TF:'French Southern Territories',GA:'Gabon',GM:'Gambia',GE:'Georgia',DE:'Germany',GH:'Ghana',GI:'Gibraltar',GR:'Greece',GL:'Greenland',GD:'Grenada',GP:'Guadeloupe',GU:'Guam',GT:'Guatemala',GN:'Guinea',GW:'Guinea-Bissau',GY:'Guyana',HT:'Haiti',HM:'Heard and Mc Donald Islands',HN:'Honduras',HK:'Hong Kong',HU:'Hungary',IS:'Iceland',IN:'India',ID:'Indonesia',IR:'Iran (Islamic Republic of)',IQ:'Iraq',IE:'Ireland',IL:'Israel',IT:'Italy',JM:'Jamaica',JP:'Japan',JO:'Jordan',KZ:'Kazakhstan',KE:'Kenya',KI:'Kiribati',KS:'Kosovo',KW:'Kuwait',KG:'Kyrgyzstan',LA:'Lao People\'s Democratic Republic',LV:'Latvia',LB:'Lebanon',LS:'Lesotho',LR:'Liberia',LY:'Libyan Arab Jamahiriya',LI:'Liechtenstein',LT:'Lithuania',LU:'Luxembourg',MO:'Macau',MK:'Macedonia',MG:'Madagascar',MW:'Malawi',MY:'Malaysia',MV:'Maldives',ML:'Mali',MT:'Malta',MH:'Marshall Islands',MQ:'Martinique',MR:'Mauritania',MU:'Mauritius',YT:'Mayotte',MX:'Mexico',FM:'Micronesia',MD:'Moldova',MC:'Monaco',MN:'Mongolia',MS:'Montserrat',MA:'Morocco',MZ:'Mozambique',MM:'Myanmar',NA:'Namibia',NR:'Nauru',NP:'Nepal',NL:'Netherlands',AN:'Netherlands Antilles',NC:'New Caledonia',NZ:'New Zealand',NI:'Nicaragua',NE:'Niger',NG:'Nigeria',NU:'Niue',NF:'Norfolk Island',KP:'North Korea',MP:'Northern Mariana Islands',NO:'Norway',OM:'Oman',Other:'Other Country',PK:'Pakistan',PW:'Palau',PS:'Palestine',PA:'Panama',PG:'Papua New Guinea',PY:'Paraguay',PE:'Peru',PH:'Philippines',PN:'Pitcairn',PL:'Poland',PT:'Portugal',PR:'Puerto Rico',QA:'Qatar',RE:'Reunion',RO:'Romania',RU:'Russian Federation',RW:'Rwanda',KN:'Saint Kitts and Nevis',LC:'Saint Lucia',VC:'Saint Vincent and the Grenadines',WS:'Samoa',SM:'San Marino',ST:'Sao Tome and Principe',SA:'Saudi Arabia',SN:'Senegal',SC:'Seychelles',SL:'Sierra Leone',SG:'Singapore',SK:'Slovakia (Slovak Republic)',SI:'Slovenia',SB:'Solomon Islands',SO:'Somalia',ZA:'South Africa',KR:'South Korea',ES:'Spain',LK:'Sri Lanka',SH:'St. Helena',PM:'St. Pierre and Miquelon',SD:'Sudan',SR:'Suriname',SJ:'Svalbard and Jan Mayen Islands',SZ:'Swaziland',SE:'Sweden',CH:'Switzerland',SY:'Syrian Arab Republic',TW:'Taiwan',TJ:'Tajikistan',TZ:'Tanzania',TH:'Thailand',TG:'Togo',TK:'Tokelau',TO:'Tonga',TT:'Trinidad and Tobago',TN:'Tunisia',TR:'Turkey',TM:'Turkmenistan',TC:'Turks and Caicos Islands',TV:'Tuvalu',UG:'Uganda',UA:'Ukraine',AE:'United Arab Emirates',UK:'United Kingdom',US:'United States',UM:'United States Minor Outlying Islands',UY:'Uruguay',UZ:'Uzbekistan',VU:'Vanuatu',VA:'Vatican City State (Holy See)',VE:'Venezuela',VN:'Vietnam',VG:'Virgin Islands (British)',VI:'Virgin Islands (U.S.)',WF:'Wallis And Futuna Islands',EH:'Western Sahara',YE:'Yemen',YU:'Yugoslavia',ZM:'Zambia',ZW:'Zimbabwe'},submitErrors:{isEmpty:"Please input a search term.",tooLong:"please input a search term less than 50 characters.",onlyEng:"Sorry, the information you filled in is not in English. Please input the information in English instead."},setups:{product:{type:'product',actionUrl:'http://www.alibaba.com/trade/search',indexArea:'product_en',submitFormWhenClicked:false},sell:{type:'sell',actionUrl:'http://www.alibaba.com/trade/search',indexArea:'offer_en',submitFormWhenClicked:false},company:{type:'company',actionUrl:'http://www.alibaba.com/trade/search',indexArea:'company_en',submitFormWhenClicked:false},buy:{type:'buy',actionUrl:'http://importer.alibaba.com/buyeroffers',indexArea:'offer_en',submitFormWhenClicked:false},tradeShows:{type:'tradeShows',actionUrl:'http://tradeshow.alibaba.com/search',indexArea:'ts_en',submitFormWhenClicked:false}},fackSelectorConfig:{selectId:"searchCategory",fakeSelectId:"fakeSelectorBox",selectBoxWH:[244,20],selectBoxZIndex:1000,optionBoxTop:"23px",arrowBoxLeft:"235px"},historyInput:{tab:get("historyTab"),searchInput:get("historySearchInput"),searchCountry:get("historySearchCountry")}}
this.manualSubmit=new YAHOO.util.CustomEvent('manualSubmit',this);}
AE.searchBar.prototype={init:function(config){this.config=YL.merge(this.config,config||{});this.defineEvent();this.defaultRun();return this;},defineEvent:function(){var _self=this;var config=_self.config;var tabs=config.tabsBox.getElementsByTagName("a");var searchSelects=config.bar.getElementsByTagName("select");_self.config.tabs=tabs;_self.config.searchSelects=searchSelects;var searchInput=config.searchInput;var searchForm=config.form;YUE.on(tabs,"click",function(){if(YUD.hasClass(this.parentNode,'current'))return true;return _self.searchTabClick(this);})
YUE.on(searchInput,"click",function(ev){_self.searchHint(this,"disable");})
YUE.on(searchSelects,"mouseover",function(ev){YUE.removeListener(this,ev.type,arguments.callee);_self.fillSelect(this);})
YUE.on(searchSelects,"focus",function(ev){YUE.removeListener(this,ev.type,arguments.callee);_self.fillSelect(this);})
YUE.on(searchForm,"submit",function(ev){return _self.searchFormSubmit();})
YUE.onDOMReady(function(){_self.historyRestore();})
if(config.countrySelect){YUE.on(config.countrySelect,"change",function(ev){_self.countrySelectsChange(this);})}},defaultRun:function(){var _self=this;var config=this.config;this.tabSelected=YUD.getElementsByClassName("current","*",config.tabsBox)[0];this.selectedType=this.tabSelected.getElementsByTagName("a")[0].id;var searchInput=config.searchInput;if((searchInput.value!=this.tabSelected.getElementsByTagName("a")[0].getAttribute("hint"))&&(searchInput.value!=""||searchInput.getAttribute("hasKeyword")=="true")){searchInput.hasFocus=true;searchInput.value=XMLDecode(searchInput.value);if(typeof(logKeywordsHistory)=='function'){logKeywordsHistory(searchInput.value)};}else{this.searchHint(searchInput,"hint",this.tabSelected.getElementsByTagName("a")[0].getAttribute("hint"));}
config.form.attributes["action"].value=config.setups[this.selectedType].actionUrl;this.defaultSelect();_self.intelligentObj=this.intSearchIntelligent();if(get(config.fackSelectorConfig.selectId)){var selectorTop=new AE.widget.xSelector();selectorTop.init(config.fackSelectorConfig);_self.selectorTop=selectorTop;}
if(config.onlyOneShow){YUE.on(config.searchInput,"click",function(){_self.selectorTop.rollup();})
if(get(config.fackSelectorConfig.selectId)){YUE.on(config.fackSelectorConfig.fakeSelectId,"click",function(){_self.intelligentObj.UIController.hideList();})}}},searchTabClick:function(tab){var config=this.config;if(YUD.hasClass(tab.parentNode,"current")){return false};if((/https?:\/\/[^/]+/i).test(tab.href))return true;this.selectedType=tab.id;var searchType=tab.id;var searchInput=config.searchInput;if(!searchInput.hasFocus||searchInput.value==""){this.searchHint(searchInput,"hint",tab.getAttribute("hint"));}else{searchInput.focus();}
YUD.removeClass(this.tabSelected,"current")
this.tabSelected=tab.parentNode;YUD.addClass(this.tabSelected,"current");var oSearchConfig=config.setups[searchType];config.form.attributes["action"].value=oSearchConfig.actionUrl;config.hiddenIndexArea.value=oSearchConfig.indexArea;if(searchType==oSearchConfig.indexArea&&oSearchConfig.submitFormWhenClicked){this.searchFormSubmit()}
return false;},intSearchIntelligent:function(){if(this.config.intelSearchConfig){var controler=new AE.widget.intelligentSearch();controler.init(this.config.intelSearchConfig);return controler;}},searchHint:function(input,type,hintText){var _self=this;if(type=="hint"&&hintText){input.value=hintText;YUD.addClass(input,_self.config.hintClass);input.hasFocus=false;this.collapseInput(input);}else if(type=="disable"){YUD.removeClass(input,_self.config.hintClass);if(input.hasFocus==false){input.value="";}
input.hasFocus=true;}
YUE.on(input,"keydown",function(ev){if(input.hasFocus){return;}
_self.searchHint(input,"disable");input.hasFocus=true;})
YUE.on(input,"paste",function(ev){if(input.hasFocus){return;}
_self.searchHint(input,"disable");input.hasFocus=true;})},collapseInput:function(input){var isHashMode=(window.location.hash.replace("#","").length==0);var isCollapseCategories=YUD.getElementsByClassName("categories-collapse").length>0;if(input.createTextRange){var rng=input.createTextRange();if(input.hasFocus)rng.moveStart('character',input.value.length);rng.collapse(true);if(isHashMode&&!isCollapseCategories)rng.select();}else if(input.setSelectionRange){var rng=input.setSelectionRange(0,0);}
if(isHashMode&&!isCollapseCategories)input.focus();},fillSelect:function(select){if(!select.linkData||select.filled)return;var dataObj=select.linkData;for(var key in dataObj){select.options.add(new Option(dataObj[key],key));}
select.filled=true;var key=select.getAttribute("selected");if(!key||key=="")return;if(dataObj[key]){select.remove(select.selectedIndex);select.value=key;}},defaultSelect:function(){var config=this.config;for(i=0;i<config.searchSelects.length;i++){var select=config.searchSelects[i];var dataName=select.getAttribute("dataName");if(!dataName||dataName=="")continue;select.linkData=config.selectlinkDatas[dataName];if(!select.linkData)continue;var key=select.getAttribute("selected");if(!key||key=="")continue;if(select.linkData[key]){select.selectedOp=select.options.add(new Option(select.linkData[key],key));select.value=key;}else{if(config.locations[key]){select.selectedOp=select.options.add(new Option(config.locations[key],key));select.value=key;eval("select.linkData."+key+" = '"+config.locations[key]+"';")}}}},searchFormSubmit:function(){var config=this.config;var historyInput=config.historyInput;var searchInput=config.searchInput;var submitErrors=config.submitErrors;if(trim(searchInput.value)==''||!searchInput.hasFocus){alert(submitErrors.isEmpty);return false;}
if(searchInput.value.length>50){alert(submitErrors.tooLong);return false;}
if(!/^[\x00-\x7F]*$/.test(trim(searchInput.value))){alert(submitErrors.onlyEng);return false;}
historyInput.tab.value=this.selectedType;if(searchInput.hasFocus){historyInput.searchInput.value=searchInput.value;}
if(config.countrySelect){historyInput.searchCountry.value=config.countrySelect.value;}
if(!config.isBlank){YUE.removeListener(config.form,"submit");}
if(config.isNeedSubmit){config.form.submit();}else{this.manualSubmit.fire(config.form);}},countrySelectsChange:function(countrySelect){if(countrySelect.value=="advanceSearch"){location=this.config.advanceSearchLink;}},historyRestore:function(){var searchInput=this.config.searchInput;var historyInput=this.config.historyInput;if(historyInput.tab.value!=""){this.searchTabClick(get(historyInput.tab.value));}
if(historyInput.searchInput.value!=""){searchInput.hasFocus=true;this.searchHint(searchInput,"disable");searchInput.value=historyInput.searchInput.value;}
if(historyInput&&historyInput.searchCountry.value!=""){this.config.countrySelect.setAttribute("selected",historyInput.searchCountry.value)
this.defaultSelect();}}}

AE.namespace('AE.run.ajaxProxy');AE.run.ajaxProxy=function(){this.config={proxy:globalImgServer+"/static/ajax_proxy.html",domain:"alibaba.com"},this.temp={ajaxForm:null},this.setForm=function(ajaxForm){this.temp.ajaxForm=ajaxForm;},this.asyncRequest=function(type,url,callBack,postBody,iConfig){var _self=this;_self.config=YL.merge(_self.config,iConfig||{});var config=_self.config;try{document.domain=config.domain;}catch(e){}
var iframe=document.createElement("iframe");YUE.on(iframe,"load",function(){var tempCallBack=callBack.success;callBack.success=function(o){tempCallBack(o);}
if(_self.temp.ajaxForm){this.contentWindow.setForm(_self.temp.ajaxForm);}
this.contentWindow.sendRequest(type,url,callBack,postBody);});iframe.src=config.proxy;iframe.style.display="none";setTimeout(function(){document.body.appendChild(iframe);},0);}}

YAHOO.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:false,_use_default_post_header:true,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:true,_default_xhr_header:"XMLHttpRequest",_has_default_headers:true,_default_headers:{},_isFormSubmit:false,_isFileUpload:false,_formNode:null,_sFormData:null,_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,_submitElementValue:null,_hasSubmitListener:(function(){if(YAHOO.util.Event){YAHOO.util.Event.addListener(document,"click",function(B){var A=YAHOO.util.Event.getTarget(B);if(A.nodeName.toLowerCase()=="input"&&(A.type&&A.type.toLowerCase()=="submit")){YAHOO.util.Connect._submitElementValue=encodeURIComponent(A.name)+"="+encodeURIComponent(A.value);}});return true;}return false;})(),startEvent:new YAHOO.util.CustomEvent("start"),completeEvent:new YAHOO.util.CustomEvent("complete"),successEvent:new YAHOO.util.CustomEvent("success"),failureEvent:new YAHOO.util.CustomEvent("failure"),uploadEvent:new YAHOO.util.CustomEvent("upload"),abortEvent:new YAHOO.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(A){this._msxml_progid.unshift(A);},setDefaultPostHeader:function(A){if(typeof A=="string"){this._default_post_header=A;}else{if(typeof A=="boolean"){this._use_default_post_header=A;}}},setDefaultXhrHeader:function(A){if(typeof A=="string"){this._default_xhr_header=A;}else{this._use_default_xhr_header=A;}},setPollingInterval:function(A){if(typeof A=="number"&&isFinite(A)){this._polling_interval=A;}},createXhrObject:function(F){var E,A;try{A=new XMLHttpRequest();E={conn:A,tId:F};}catch(D){for(var B=0;B<this._msxml_progid.length;++B){try{A=new ActiveXObject(this._msxml_progid[B]);E={conn:A,tId:F};break;}catch(C){}}}finally{return E;}},getConnectionObject:function(A){var C;var D=this._transaction_id;try{if(!A){C=this.createXhrObject(D);}else{C={};C.tId=D;C.isUpload=true;}if(C){this._transaction_id++;}}catch(B){}finally{return C;}},asyncRequest:function(F,C,E,A){var D=(this._isFileUpload)?this.getConnectionObject(true):this.getConnectionObject();var B=(E&&E.argument)?E.argument:null;if(!D){return null;}else{if(E&&E.customevents){this.initCustomEvents(D,E);}if(this._isFormSubmit){if(this._isFileUpload){this.uploadFile(D,E,C,A);return D;}if(F.toUpperCase()=="GET"){if(this._sFormData.length!==0){C+=((C.indexOf("?")==-1)?"?":"&")+this._sFormData;}}else{if(F.toUpperCase()=="POST"){A=A?this._sFormData+"&"+A:this._sFormData;}}}if(F.toUpperCase()=="GET"&&(E&&E.cache===false)){C+=((C.indexOf("?")==-1)?"?":"&")+"rnd="+new Date().valueOf().toString();}D.conn.open(F,C,true);if(this._use_default_xhr_header){if(!this._default_headers["X-Requested-With"]){this.initHeader("X-Requested-With",this._default_xhr_header,true);}}if((F.toUpperCase()==="POST"&&this._use_default_post_header)&&this._isFormSubmit===false){this.initHeader("Content-Type",this._default_post_header);}if(this._has_default_headers||this._has_http_headers){this.setHeader(D);}this.handleReadyState(D,E);D.conn.send(A||"");if(this._isFormSubmit===true){this.resetFormState();}this.startEvent.fire(D,B);if(D.startEvent){D.startEvent.fire(D,B);}return D;}},initCustomEvents:function(A,C){var B;for(B in C.customevents){if(this._customEvents[B][0]){A[this._customEvents[B][0]]=new YAHOO.util.CustomEvent(this._customEvents[B][1],(C.scope)?C.scope:null);A[this._customEvents[B][0]].subscribe(C.customevents[B]);}}},handleReadyState:function(C,D){var B=this;var A=(D&&D.argument)?D.argument:null;if(D&&D.timeout){this._timeOut[C.tId]=window.setTimeout(function(){B.abort(C,D,true);},D.timeout);}this._poll[C.tId]=window.setInterval(function(){if(C.conn&&C.conn.readyState===4){window.clearInterval(B._poll[C.tId]);delete B._poll[C.tId];if(D&&D.timeout){window.clearTimeout(B._timeOut[C.tId]);delete B._timeOut[C.tId];}B.completeEvent.fire(C,A);if(C.completeEvent){C.completeEvent.fire(C,A);}B.handleTransactionResponse(C,D);}},this._polling_interval);},handleTransactionResponse:function(F,G,A){var D,C;var B=(G&&G.argument)?G.argument:null;try{if(F.conn.status!==undefined&&F.conn.status!==0){D=F.conn.status;}else{D=13030;}}catch(E){D=13030;}if(D>=200&&D<300||D===1223){C=this.createResponseObject(F,B);if(G&&G.success){if(!G.scope){G.success(C);}else{G.success.apply(G.scope,[C]);}}this.successEvent.fire(C);if(F.successEvent){F.successEvent.fire(C);}}else{switch(D){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:C=this.createExceptionObject(F.tId,B,(A?A:false));if(G&&G.failure){if(!G.scope){G.failure(C);}else{G.failure.apply(G.scope,[C]);}}break;default:C=this.createResponseObject(F,B);if(G&&G.failure){if(!G.scope){G.failure(C);}else{G.failure.apply(G.scope,[C]);}}}this.failureEvent.fire(C);if(F.failureEvent){F.failureEvent.fire(C);}}this.releaseObject(F);C=null;},createResponseObject:function(A,G){var D={};var I={};try{var C=A.conn.getAllResponseHeaders();var F=C.split("\n");for(var E=0;E<F.length;E++){var B=F[E].indexOf(":");if(B!=-1){I[F[E].substring(0,B)]=F[E].substring(B+2);}}}catch(H){}D.tId=A.tId;D.status=(A.conn.status==1223)?204:A.conn.status;D.statusText=(A.conn.status==1223)?"No Content":A.conn.statusText;D.getResponseHeader=I;D.getAllResponseHeaders=C;D.responseText=A.conn.responseText;D.responseXML=A.conn.responseXML;if(G){D.argument=G;}return D;},createExceptionObject:function(H,D,A){var F=0;var G="communication failure";var C=-1;var B="transaction aborted";var E={};E.tId=H;if(A){E.status=C;E.statusText=B;}else{E.status=F;E.statusText=G;}if(D){E.argument=D;}return E;},initHeader:function(A,D,C){var B=(C)?this._default_headers:this._http_headers;B[A]=D;if(C){this._has_default_headers=true;}else{this._has_http_headers=true;}},setHeader:function(A){var B;if(this._has_default_headers){for(B in this._default_headers){if(YAHOO.lang.hasOwnProperty(this._default_headers,B)){A.conn.setRequestHeader(B,this._default_headers[B]);}}}if(this._has_http_headers){for(B in this._http_headers){if(YAHOO.lang.hasOwnProperty(this._http_headers,B)){A.conn.setRequestHeader(B,this._http_headers[B]);}}delete this._http_headers;this._http_headers={};this._has_http_headers=false;}},resetDefaultHeaders:function(){delete this._default_headers;this._default_headers={};this._has_default_headers=false;},setForm:function(M,H,C){var L,B,K,I,P,J=false,F=[],O=0,E,G,D,N,A;this.resetFormState();if(typeof M=="string"){L=(document.getElementById(M)||document.forms[M]);}else{if(typeof M=="object"){L=M;}else{return;}}if(H){this.createFrame(C?C:null);this._isFormSubmit=true;this._isFileUpload=true;this._formNode=L;return;}for(E=0,G=L.elements.length;E<G;++E){B=L.elements[E];P=B.disabled;K=B.name;if(!P&&K){K=encodeURIComponent(K)+"=";I=encodeURIComponent(B.value);switch(B.type){case"select-one":if(B.selectedIndex>-1){A=B.options[B.selectedIndex];F[O++]=K+encodeURIComponent((A.attributes.value&&A.attributes.value.specified)?A.value:A.text);}break;case"select-multiple":if(B.selectedIndex>-1){for(D=B.selectedIndex,N=B.options.length;D<N;++D){A=B.options[D];if(A.selected){F[O++]=K+encodeURIComponent((A.attributes.value&&A.attributes.value.specified)?A.value:A.text);}}}break;case"radio":case"checkbox":if(B.checked){F[O++]=K+I;}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(J===false){if(this._hasSubmitListener&&this._submitElementValue){F[O++]=this._submitElementValue;}else{F[O++]=K+I;}J=true;}break;default:F[O++]=K+I;}}}this._isFormSubmit=true;this._sFormData=F.join("&");this.initHeader("Content-Type",this._default_form_header);return this._sFormData;},resetFormState:function(){this._isFormSubmit=false;this._isFileUpload=false;this._formNode=null;this._sFormData="";},createFrame:function(A){var B="yuiIO"+this._transaction_id;var C;if(YAHOO.env.ua.ie){C=document.createElement('<iframe id="'+B+'" name="'+B+'" />');if(typeof A=="boolean"){C.src="javascript:false";}}else{C=document.createElement("iframe");C.id=B;C.name=B;}C.style.position="absolute";C.style.top="-1000px";C.style.left="-1000px";document.body.appendChild(C);},appendPostData:function(A){var D=[],B=A.split("&"),C,E;for(C=0;C<B.length;C++){E=B[C].indexOf("=");if(E!=-1){D[C]=document.createElement("input");D[C].type="hidden";D[C].name=decodeURIComponent(B[C].substring(0,E));D[C].value=decodeURIComponent(B[C].substring(E+1));this._formNode.appendChild(D[C]);}}return D;},uploadFile:function(D,N,E,C){var I="yuiIO"+D.tId,J="multipart/form-data",L=document.getElementById(I),O=this,K=(N&&N.argument)?N.argument:null,M,H,B,G;var A={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};this._formNode.setAttribute("action",E);this._formNode.setAttribute("method","POST");this._formNode.setAttribute("target",I);if(YAHOO.env.ua.ie){this._formNode.setAttribute("encoding",J);}else{this._formNode.setAttribute("enctype",J);}if(C){M=this.appendPostData(C);}this._formNode.submit();this.startEvent.fire(D,K);if(D.startEvent){D.startEvent.fire(D,K);}if(N&&N.timeout){this._timeOut[D.tId]=window.setTimeout(function(){O.abort(D,N,true);},N.timeout);}if(M&&M.length>0){for(H=0;H<M.length;H++){this._formNode.removeChild(M[H]);}}for(B in A){if(YAHOO.lang.hasOwnProperty(A,B)){if(A[B]){this._formNode.setAttribute(B,A[B]);}else{this._formNode.removeAttribute(B);}}}this.resetFormState();var F=function(){if(N&&N.timeout){window.clearTimeout(O._timeOut[D.tId]);delete O._timeOut[D.tId];}O.completeEvent.fire(D,K);if(D.completeEvent){D.completeEvent.fire(D,K);}G={tId:D.tId,argument:N.argument};try{G.responseText=L.contentWindow.document.body?L.contentWindow.document.body.innerHTML:L.contentWindow.document.documentElement.textContent;G.responseXML=L.contentWindow.document.XMLDocument?L.contentWindow.document.XMLDocument:L.contentWindow.document;}catch(P){}if(N&&N.upload){if(!N.scope){N.upload(G);}else{N.upload.apply(N.scope,[G]);}}O.uploadEvent.fire(G);if(D.uploadEvent){D.uploadEvent.fire(G);}YAHOO.util.Event.removeListener(L,"load",F);setTimeout(function(){document.body.removeChild(L);O.releaseObject(D);},100);};YAHOO.util.Event.addListener(L,"load",F);},abort:function(E,G,A){var D;var B=(G&&G.argument)?G.argument:null;if(E&&E.conn){if(this.isCallInProgress(E)){E.conn.abort();window.clearInterval(this._poll[E.tId]);delete this._poll[E.tId];if(A){window.clearTimeout(this._timeOut[E.tId]);delete this._timeOut[E.tId];}D=true;}}else{if(E&&E.isUpload===true){var C="yuiIO"+E.tId;var F=document.getElementById(C);if(F){YAHOO.util.Event.removeListener(F,"load");document.body.removeChild(F);if(A){window.clearTimeout(this._timeOut[E.tId]);delete this._timeOut[E.tId];}D=true;}}else{D=false;}}if(D===true){this.abortEvent.fire(E,B);if(E.abortEvent){E.abortEvent.fire(E,B);}this.handleTransactionResponse(E,G,true);}return D;},isCallInProgress:function(B){if(B&&B.conn){return B.conn.readyState!==4&&B.conn.readyState!==0;}else{if(B&&B.isUpload===true){var A="yuiIO"+B.tId;return document.getElementById(A)?true:false;}else{return false;}}},releaseObject:function(A){if(A&&A.conn){A.conn=null;A=null;}}};YAHOO.register("connection",YAHOO.util.Connect,{version:"2.6.0",build:"1321"});

AE.namespace('AE.app');AE.app.categories=function(config){this.config={rootTarget:"categories",subTarget:"categories-subs",afterLoadClass:"after-load-subs",itemCurrentClass:"current",afterShowSubClass:"after-show-sub",afterShowNextItemClass:"active-border-color",showDelayTime:50,hiddenDelayTime:40,excursion:[172,0],searchBar:window.searchBar,forceRun:false,getCategoriesAPI:"/api/get_categories.htm",iframeMask:AE.bom.isIE?true:false,getThrough:true,throughMaskExcursion:[172,1],maskWidth:"1px",maskBackground:"#fff5e2",maskHeightDiff:-2,isCollapse:YUD.getElementsByClassName("categories-collapse").length>0?true:false,handleItem:get("categories-title"),handleItemLink:get("categories-title").getElementsByTagName("a")[0],viewMoreClass:"view-more",viewMoreText:"View More",viewMoreTextClass:"view-more",viewLessText:"View Less",viewLessTextClass:"view-less",isShadow:true,shadowClass:"shadow-line",shadow4RootExcursion:[0,0],shadow4SubExcursion:[0,0]};this.temp={rootItems:[],subItems:{},collapseTimeoutId:"",viewMoreBox:"",viewMoreHandle:"",whiteMask:"",shadow4Root:"",shadow4Sub:"",iframeMask:null};return this;}
AE.app.categories.prototype={afterShow:function(ev,s,args){var _self=this;var config=this.config;var temp=this.temp;var xz=(YUD.getY(args.subItem)+args.subItem.offsetHeight)-(document.documentElement.clientHeight+YUD.getDocumentScrollTop());if(xz>0){YUD.setY(args.subItem,(YUD.getY(args.subItem)-xz))}else{YUD.setY(args.subItem,(YUD.getY(args.rootItem)))}
if(config.iframeMask){YUD.setStyle(temp.iframeMask,"display","block");YUD.setStyle(temp.iframeMask,"width",args.subItem.offsetWidth+"px");YUD.setStyle(temp.iframeMask,"height",args.subItem.offsetHeight+"px");YUD.setX(temp.iframeMask,YUD.getX(args.subItem));YUD.setY(temp.iframeMask,YUD.getY(args.subItem));}
if(config.afterShowSubClass){YUD.addClass(config.rootTarget,config.afterShowSubClass);}
if(config.searchBar){searchBar.intelligentObj.UIController.hideList();}
YUD.addClass(args.nextItem,config.afterShowNextItemClass);YUD.addClass(args.rootItem.parentNode,config.itemCurrentClass);if(config.getThrough){if(!_self.temp.whiteMask){var whiteMask=_self.temp.whiteMask=document.createElement("div");whiteMask.style.width=config.maskWidth;whiteMask.style.background=config.maskBackground;config.subTarget.appendChild(whiteMask);}else{var whiteMask=_self.temp.whiteMask;}
whiteMask.style.height=(args.rootItem.offsetHeight+config.maskHeightDiff)+"px";YUD.setXY(whiteMask,[YUD.getX(args.rootItem)+config.throughMaskExcursion[0],YUD.getY(args.rootItem)+config.throughMaskExcursion[1]]);}
if(config.isShadow){if(!_self.temp.shadow4Root){var shadow4Root=_self.temp.shadow4Root=document.createElement("div");YUD.addClass(shadow4Root,config.shadowClass);config.rootTarget.appendChild(shadow4Root);}else{var shadow4Root=_self.temp.shadow4Root;}
if(args.nextItem){shadow4Root.style.display="";shadow4Root.style.width=args.rootItem.offsetWidth+"px";YUD.setXY(shadow4Root,[YUD.getX(args.rootItem)+config.shadow4RootExcursion[0],YUD.getY(args.rootItem)+args.rootItem.offsetHeight+config.shadow4RootExcursion[1]]);}
if(!_self.temp.shadow4Sub){var shadow4Sub=_self.temp.shadow4Sub=document.createElement("div");YUD.addClass(shadow4Sub,config.shadowClass);config.rootTarget.appendChild(shadow4Sub);}else{var shadow4Sub=_self.temp.shadow4Sub;}
shadow4Sub.style.display="";shadow4Sub.style.width=args.subItem.offsetWidth+"px";YUD.setXY(shadow4Sub,[YUD.getX(args.subItem)+config.shadow4SubExcursion[0],YUD.getY(args.subItem)+args.subItem.offsetHeight+config.shadow4SubExcursion[1]]);}
if(get("page")){get("page").bak_zIndex=YUD.getStyle("page","z-index");YUD.setStyle("page","z-index",100000);}},afterHidden:function(ev,s,args){var _self=this;var config=this.config;var temp=this.temp;if(config.iframeMask){YUD.setStyle(temp.iframeMask,"display","none");}
YUD.setXY(temp.whiteMask,[-10000,YUD.getY(args.rootItem)+config.throughMaskExcursion[1]]);if(config.afterShowSubClass){YUD.removeClass(config.rootTarget,config.afterShowSubClass);}
YUD.removeClass(args.nextItem,config.afterShowNextItemClass);YUD.removeClass(args.rootItem.parentNode,config.itemCurrentClass);if(config.isShadow&&_self.temp.shadow4Root&&args.subItem.style.display==""){_self.temp.shadow4Root.style.display="none";_self.temp.shadow4Sub.style.display="none";}
if(get("page")&&get("page").bak_zIndex!=undefined){YUD.setStyle("page","z-index",get("page").bak_zIndex);}},rootExpand:function(){var _self=this;var config=this.config;config.rootTarget.style.visibility="visible";if(config.isCollapse){YUD.addClass(config.handleItemLink,"expanded");YUD.addClass(config.handleItemLink.parentNode.parentNode,"handle-expanded");}},rootCollapse:function(){var _self=this;var config=this.config;config.rootTarget.style.visibility="hidden";if(config.isCollapse){YUD.removeClass(config.handleItemLink,"expanded");YUD.removeClass(config.handleItemLink.parentNode.parentNode,"handle-expanded");}},toggle:function(ev,args){var _self=this;var config=this.config;var handle=args.handle;var collapseClass=args.collapseClass;var target=args.target;var toggleHeight=args.toggleHeight;if(handle.locked==true)return;if(YUD.hasClass(handle,collapseClass)){if(args.collapseForce==true)return;if(args.beforeExpandCall){args.beforeExpandCall.call(_self,args);}
target.style.height="auto";var toHeight=target.offsetHeight;target.style.height=toggleHeight+"px";var attributes={height:{to:toHeight}};var anim=new YAHOO.util.Anim(target,attributes,args.expandTime,YAHOO.util.Easing.easeOut);anim.onComplete.subscribe(function(s,o){handle.locked=false;target.style.height="auto";YUD.removeClass(args.handle,args.collapseClass);if(args.afterExpandCall){args.afterExpandCall.call(_self,args);}});handle.locked=true;anim.animate();}else{if(args.expandForce==true)return;if(args.beforeCollapseCall){args.beforeCollapseCall.call(_self,args);}
var attributes={height:{to:toggleHeight}};var anim=new YAHOO.util.Anim(target,attributes,args.collapseTime,YAHOO.util.Easing.easeOut);anim.onComplete.subscribe(function(s,o){handle.locked=false;YUD.addClass(args.handle,args.collapseClass);if(args.afterCollapseCall){args.afterCollapseCall.call(_self,args);}});handle.locked=true;anim.animate();}},viewMoreAfterCollapse:function(args){var _self=this;var config=this.config;args.handleText.innerHTML=config.viewMoreText;YUD.replaceClass(args.handleText,config.viewLessTextClass,config.viewMoreTextClass);if(AE.bom.isIE){CollectGarbage();}},viewMoreAfterExpand:function(args){var _self=this;var config=this.config;args.handleText.innerHTML=config.viewLessText;YUD.replaceClass(args.handleText,config.viewMoreTextClass,config.viewLessTextClass);if(AE.bom.isIE){CollectGarbage();}},run:function(){var _self=this;var config=this.config;var temp=this.temp;config.rootTarget=get(config.rootTarget);config.subTarget=get(config.subTarget);var subItems=config.subTarget.getElementsByTagName("div");for(var i=0;i<subItems.length;i++){var subItem=subItems[i];_self.temp.subItems[trim(subItem.getAttribute("rel")).toUpperCase()]=subItem;}
var rootItemWraps=config.rootTarget.getElementsByTagName("li");var rootItems=[];for(var i=0;i<rootItemWraps.length-1;i++){rootItems.push(YUD.getFirstChild(rootItemWraps[i]));}
for(var i=0;i<rootItems.length;i++){var rootItem=rootItems[i];var key=trim((rootItem.innerText?rootItem.innerText:rootItem.textContent)).toUpperCase();if(_self.temp.subItems[key]){var overShow=rootItem.overShow=new AE.widget.overShow();var subItem=rootItem.subItem=this.temp.subItems[key];subItem.rootItem=rootItem;var nextItem=rootItems[i+1]?rootItems[i+1]:null;overShow.afterShow.subscribe(_self.afterShow,{rootItem:rootItem,subItem:subItem,nextItem:nextItem},_self);overShow.afterHidden.subscribe(_self.afterHidden,{rootItem:rootItem,subItem:subItem,nextItem:nextItem},_self);var excursion=config.excursion;overShow.init({targetId:rootItem,contentId:subItem,showDelayTime:config.showDelayTime,hiddenDelayTime:config.hiddenDelayTime,excursion:excursion});}
_self.temp.rootItems.push(rootItem);}
if(config.iframeMask){temp.iframeMask=document.createElement("iframe");YUD.setStyle(temp.iframeMask,"position","absolute");YUD.setStyle(temp.iframeMask,"display","none");YUD.setStyle(temp.iframeMask,"opacity","0");YUD.setStyle(temp.iframeMask,"z-index",YUD.getStyle(config.subTarget,"z-index")-1);config.rootTarget.appendChild(temp.iframeMask);}
var viewMoreHandle=this.temp.viewMoreHandle=YUD.getElementsByClassName(config.viewMoreClass,"a",config.rootTarget)[0];if(viewMoreHandle){var viewMoreBox=this.temp.viewMoreBox=YUD.getNextSibling(viewMoreHandle);var toggleConfig={handle:viewMoreHandle,handleText:viewMoreHandle,collapseClass:config.viewMoreClass,target:viewMoreBox,toggleHeight:0,afterCollapseCall:_self.viewMoreAfterCollapse,afterExpandCall:_self.viewMoreAfterExpand,expandTime:0.25,collapseTime:0.25};YUE.on(viewMoreHandle,"click",_self.toggle,toggleConfig,_self);}
if(config.isCollapse){_self.rootExpand();YUE.on([config.handleItem,config.rootTarget,config.subTarget],"mouseover",function(){clearTimeout(_self.temp.collapseTimeoutId);_self.rootExpand();})
YUE.on([config.handleItem,config.rootTarget,config.subTarget],"mouseout",function(){_self.temp.collapseTimeoutId=setTimeout(function(){_self.rootCollapse();},500)})
YUE.on(config.handleItem,"mouseover",function(){if(_self.temp.viewMoreBox){_self.temp.viewMoreBox.style.height="0";_self.temp.viewMoreHandle.innerHTML="View More";YUD.replaceClass(_self.temp.viewMoreHandle,"view-less","view-more");}})}
YUD.addClass(config.rootTarget,config.afterLoadClass);if(AE.tool){AE.tool.defineEmptyLinks(config.rootTarget);AE.tool.defineEmptyLinks(config.subTarget);}},init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this;var config=this.config;var temp=this.temp;if(!config.forceRun&&config.isCollapse){var callback={success:function(o){var categoriesBody=document.createElement("div");categoriesBody.id="categories-body";categoriesBody.innerHTML=o.responseText;config.handleItem.parentNode.parentNode.appendChild(categoriesBody);YUE.removeListener(_self.config.handleItem,"mouseover");_self.run();},failure:function(){try{var ap=new AE.run.ajaxProxy();ap.asyncRequest("POST",config.getCategoriesAPI,callback,"",{proxy:"http://www.aliexpress.com/api/ajax_proxy.htm"});ap=null;}catch(e){}}};try{var request=YAHOO.util.Connect.asyncRequest('GET',config.getCategoriesAPI,callback);}catch(e){var ap=new AE.run.ajaxProxy();ap.asyncRequest("POST",config.getCategoriesAPI,callback,"",{proxy:"http://www.aliexpress.com/api/ajax_proxy.htm"});ap=null;}}else{_self.run();}
if(AE.bom.isIE){CollectGarbage();}
return _self;}}

AE.namespace('AE.widget.intelligentSearch');AE.widget.intelligentSearch=function(){this.inputEl=null;this.jsonData=[];this.selectedOption=[-1,'',''];this.config={};this._defConfig={url:'',inputElId:'',listCssClass:'intelligentList',listCssStyle:'left:0px;top:0px;width:200px;height:auto;z-index:100',keyWordClass:'',listItemNum:10,requestDelay:0.15,enableResultCount:1,enableCatShow:1,returnVarName:'intelSearchData',isNeedSubmit:true};this.init=function(userConfig){this.config=YL.merge(this._defConfig,userConfig);this.inputEl=get(this.config.inputElId);this.UIController=YL.merge(this.UIController,{});this.requestHander=YL.merge(this.requestHander,{});this.dataParser=YL.merge(this.dataParser,{});this.UIController.init(this);this.onInit.fire();if(window.location.href.indexOf('chinasuppliers')!=-1){this.config.enableCatShow=0;}};this.initOnActive=function(){if(this.requestHander.requestCount==0&&!this.dataParser.isInit){this.requestHander.init(this);this.dataParser.init(this);this.UIController.initEvts();this.onActive.fire();return true;}
return false;};this.onInit=new YAHOO.util.CustomEvent('onInit',this);this.onActive=new YAHOO.util.CustomEvent('onActive',this);this.onRequestSent=new YAHOO.util.CustomEvent('onRequestSent',this);this.onRequestFailure=new YAHOO.util.CustomEvent('onRequestFailure',this);this.onRequestSuccess=new YAHOO.util.CustomEvent('onRequestSuccess',this);this.onListDisplay=new YAHOO.util.CustomEvent('onListDisplay',this);this.onListDisplayed=new YAHOO.util.CustomEvent('onListDisplayed',this);this.onListHide=new YAHOO.util.CustomEvent('onListHide',this);this.onListHidden=new YAHOO.util.CustomEvent('onListHidden',this);this.onOptionClick=new YAHOO.util.CustomEvent('onOptionClick',this);this.onOptionMouseDown=new YAHOO.util.CustomEvent('onOptionMouseDown',this);this.onInputKeyDown=new YAHOO.util.CustomEvent('onInputKeyDown',this);};AE.widget.intelligentSearch.prototype={requestHander:{_parent:null,_timer:null,_processor:null,_isLoading:false,disabled:false,requestCount:0,previousQuery:'',returnDataLength:0,init:function(scope){this._parent=scope;},send:function(){var _self=this,P=this._parent,config=P.config;var inputEl=P.dataParser.HTMLElements.inputEl;if(this.disabled||this._isLoading){return;};this._isLoading=true;this._timer=setTimeout(function(){var inputVal=inputEl.value.toLowerCase().replace(/^\s+/,'').replace(/\s{2,}/g,' ');if(trim(inputVal)==''){P.UIController.hideList();_self._isLoading=false;return;}
P.onRequestSent.fire();_self.requestCount++;_self._processor=YAHOO.util.Get.script(_self._buildURL(inputVal,inputEl.form),{onSuccess:_self._onSuccess,scope:_self,charset:'utf-8',data:inputVal,insertBefore:P.inputEl});_self._isLoading=false;},config.requestDelay*1000);},_onSuccess:function(o){var P=this._parent;P.jsonData=eval('window.'+P.config.returnVarName);if(!YL.isArray(P.jsonData)||P.jsonData.length==0||trim(P.inputEl.value)==''){this.returnDataLength=0;P.UIController.needDisplayList=false;P.UIController.hideList();}else{P.UIController.needDisplayList=true;P.dataParser.update(P);P.UIController.displayList();P.onRequestSuccess.fire();}
P.selectedOption[2]=o.data;P.jsonData=null;o.purge();},_buildURL:function(searchStr,f){var P=this._parent,config=P.config,param='',baseUrl=config.url;if(baseUrl.indexOf('?')!=-1){var urlArray=baseUrl.split('?');baseUrl=urlArray[0];param='&'+urlArray[1];}
return(baseUrl+'?keyword='+encodeURIComponent(searchStr)+'&'+'searchType='+(config.enableCatShow==1?(!!f.IndexArea?f.IndexArea.value:''):'')+'&'+'varname='+config.returnVarName+'&'+'__number='+config.enableResultCount+'&'+'time='+(new Date()).getTime()+param);}},dataParser:{_parent:null,isInit:false,HTMLElements:{docEl:document,inputEl:null,listBox:null,iframeMask:null,showBtn:null,hideBtn:null,optionList:[]},init:function(scope){var P=scope,config=P.config,inputEl=P.inputEl,els=this.HTMLElements;this._parent=P;els.inputEl=inputEl;els.iframeMask=this._insertHTMLAfter(els.inputEl,this._buildHTML(config.listCssClass,config.listItemNum));els.listBox=YUD.getNextSibling(els.iframeMask);this._initHTMLElements(els.listBox);this._formatHTML();this.isInit=true;},update:function(parentScope){var P=this._parent,config=P.config,els=this.HTMLElements,optionList=els.optionList,jsonData=P.jsonData,tempData=[];if(!this.isInit){this.init(parentScope)};for(var i=0,l=jsonData.length;i<l;i++){if(!!jsonData[i].cat){for(j=0,k=jsonData[i].cat.length;j<k;j++){tempData.push({keywords:jsonData[i].keywords,cat:jsonData[i].cat[j]});}
tempData.push({keywords:jsonData[i].keywords});}else{tempData.push(jsonData[i]);}}
P.requestHander.returnDataLength=tempData.length;for(i=0,l=optionList.length;i<l;i++){var option=optionList[i],numHtml='',txtHtml='';var inputVal=els.inputEl.value.toLowerCase().replace(/^\s+/,'').replace(/\s{2,}/g,' ');if(i<tempData.length){if(config.keyWordClass!=''){txtHtml='<span class="js_key">'+this._boldKeyWords(tempData[i].keywords,inputVal,config.keyWordClass)+'</span>';}else{txtHtml='<span class="js_key">'+tempData[i].keywords+'</span>';}
if(config.enableCatShow==1){option.removeAttribute('catid');if(!!tempData[i].cat){for(var item in tempData[i].cat){if(tempData[i].cat.hasOwnProperty(item)){txtHtml+='<span class="cat" style="font-weight:bold;"> in '+tempData[i].cat[item]+'</span>';option.setAttribute('catid',item);}}}}
if(config.enableResultCount==1&&tempData[i].count){numHtml='<span class="s">'+tempData[i].count+'</span>';}
option.innerHTML=numHtml+txtHtml;YUD.setStyle(option,'display','');}else{YUD.setStyle(option,'display','none');}
option=null;}
tempData=null;},_buildHTML:function(skinClass,itemNum){var searchSuggestion='Search Suggestions';var hide='Hide';if(typeof LANGUAGE_PACKAGE!='undefined'){searchSuggestion=LANGUAGE_PACKAGE.searchSuggestion;hide=LANGUAGE_PACKAGE.hideSearchSuggestion;}
var html='<iframe frameborder="0" src="about:blank" scrolling="no" class="intelligentIframeMask" style="visibility:hidden;"></iframe>'+'<div class="'+skinClass+'" style="visibility:hidden;">'+'<div class="showSearchSuggestion" style="display:none;">'+searchSuggestion+'</div>'+'<div><div class="intelligentListTitle"><span>'+hide+'</span>'+searchSuggestion+'</div>';for(var i=0;i<itemNum;i++){html+='<p id="listItem'+i+'">&nbsp;</p>';};html+='</div></div>';return html;},_insertHTMLAfter:function(el,html){if(el.insertAdjacentHTML){el.insertAdjacentHTML('AfterEnd',html);}else{var range=el.ownerDocument.createRange(),frag;range.setStartAfter(el);frag=range.createContextualFragment(html);el.parentNode.insertBefore(frag,el.nextSibling)}
return el.nextSibling;},_initHTMLElements:function(container){var els=this.HTMLElements,optionList=[];els.showBtn=container.firstChild;els.hideBtn=YUD.getFirstChild(YUD.getNextSibling(els.showBtn));optionList=container.getElementsByTagName('p');for(var i=0,j=optionList.length;i<j;i++){var option=optionList[i];}
els.optionList=optionList;},_formatHTML:function(){var P=this._parent,config=P.config,els=this.HTMLElements;var listBox=els.listBox,ifmMask=els.iframeMask,hideBtn=els.hideBtn;if(!config.listCssStyle||config.listCssStyle==''){return;}
config.listCssStyle=config.listCssStyle.replace(/\s/ig,'');var styles=config.listCssStyle.split('\;');for(var i=0;i<styles.length;i++){var styleItem=styles[i].split('\:'),styleName=styleItem[0],styleValue=styleItem[1];if(!styleName)continue;switch(styleName.toLowerCase()){case'z-index':YUD.setStyle(listBox,styleName,styleValue);YUD.setStyle(ifmMask,'z-index',YUD.getStyle(listBox,'z-index')-1);break;case'top':case'left':case'width':case'height':YUD.setStyle([listBox,ifmMask],styleName,styleValue);break;default:YUD.setStyle(listBox,styleName,styleValue);}}
listBox.orgWidth=listBox.clientWidth+'px';},_boldKeyWords:function(str,keyWord,css){if(!keyWord)return str;return str.replace(keyWord,'<span class="'+css+'">'+keyWord+'</span>');}},UIController:{_els:{},_parent:null,_currentListItemIndex:-1,isOptionBoxOpen:false,isOptionListOpen:true,needDisplayList:true,init:function(scope){this._parent=scope;var inputEl=get(scope.config.inputElId);YUE.on(inputEl,'click',this._inputElOnClick,this);YUE.on(inputEl,'keydown',this._inputElOnKeydown,this);},initEvts:function(){if(!this._parent||!this._parent.dataParser.isInit){return;}
this._els=this._parent.dataParser.HTMLElements;this.bindListeners(this._evtsMap);},_evtsMap:[['docEl','click','_documentOnClick'],['inputEl','keyup','_inputElOnKeyup'],['inputEl','paste','_inputElOnKeyup'],['showBtn','click','_showBtnOnClick'],['hideBtn','click','_hideBtnOnClick'],['optionList','click','_optionOnClick'],['optionList','mouseover','_optionOnMouseover'],['optionList','mousedown','_optionOnMousedown']],bindListeners:function(evtsMap){for(var i=0;i<evtsMap.length;i++){var evtDef=evtsMap[i];var el=evtDef[0],evt=evtDef[1],fname=evtDef[2];YUE.on(this._els[el],evt,this[fname],this);}},_inputElOnKeyup:function(e,scope){scope._parent.requestHander.send();},_inputElOnKeydown:function(e,scope){var P=scope._parent,f=this.form,opts=scope._els.optionList,opt=null,catid='';P.initOnActive();scope._parent.onInputKeyDown.fire(e.keyCode);P.requestHander.disabled=false;if(scope.isOptionListOpen){scope.moveListItem(e.keyCode);if(e.keyCode==13&&scope._currentListItemIndex!=-1){opt=opts[scope._currentListItemIndex];catid=opt.getAttribute('catid');if(!!catid){YUE.stopEvent(e);window.location=f.action+'?'+scope.param(f,{CatId:catid});}}}},_inputElOnClick:function(e,scope){YUE.stopEvent(e);var P=scope._parent,initStatus=P.initOnActive();if(scope._els.inputEl.value!=P.selectedOption[2]){P.requestHander.send();}
else{if(scope._els.inputEl.value!=''){scope.displayList();}}},_documentOnClick:function(e,scope){if(scope.isOptionBoxOpen){scope.hideList();}},_showBtnOnClick:function(e,scope){YUE.stopEvent(e);YUD.setStyle(scope._els.hideBtn,'display','');YUD.setStyle(YUD.getNextSibling(this),'display','');YUD.setStyle(this,'display','none');scope.displayList(scope._els.listBox.orgWidth);scope.isOptionListOpen=true;},_hideBtnOnClick:function(e,scope){YUE.stopEvent(e);YUD.setStyle(scope._els.showBtn,'display','');YUD.setStyle(this.parentNode,'display','none');YUD.setStyle(this,'display','none');scope.isOptionListOpen=false;scope.hideList('auto');},_optionOnClick:function(e,scope){var config=scope._parent.config,f=scope._els.inputEl.form,catid=this.getAttribute('catid');scope._parent.onOptionClick.fire(this);YUE.stopEvent(e);if(config.isNeedSubmit==true){if(!!catid){window.location=f.action+'?'+scope.param(f,{CatId:catid});}else{scope.submitSelect(f);}}
scope.hideList();},_optionOnMouseover:function(e,scope){var inx=this.id.replace('listItem','');YUE.stopEvent(e);scope.transListItem(inx);scope.setListItemIndex(inx);},_optionOnMousedown:function(e,scope){var inx=this.id.replace('listItem','');scope._parent.selectedOption[0]=inx;scope.setInputElValue(scope._els.optionList[inx]);scope._parent.onOptionMouseDown.fire(this);},displayList:function(w){if(!this.needDisplayList){return;}
var els=this._els;if(!!w){YUD.setStyle(els.listBox,'width',w);}
this.syncMaskWH();if(this.isOptionBoxOpen){return;}
this._parent.onListDisplay.fire();YUD.setStyle([els.listBox,els.iframeMask],'visibility','visible');this.isOptionBoxOpen=true;this._parent.onListDisplayed.fire();},hideList:function(w){var els=this._els;if(!!w){YUD.setStyle(els.listBox,'width',w);}
if(!this.isOptionBoxOpen){return;}
this._parent.onListHide.fire();YUD.setStyle([els.listBox,els.iframeMask],'visibility','hidden');YUD.removeClass(els.optionList,'current');this.isOptionBoxOpen=false;if(this._currentListItemIndex>=0)YUD.removeClass(this._els.optionList[this._currentListItemIndex],'current');this._currentListItemIndex=-1;this._parent.onListHidden.fire();this._parent.requestHander.disabled=false;},moveListItem:function(kCode){var optionList=this._els.optionList;var inx=this._currentListItemIndex;var dLen=this._parent.requestHander.returnDataLength;if(dLen<=0||this._els.inputEl.value==''||(kCode!=38&&kCode!=40)){return;}
if(kCode==38){inx--;if(inx<-1)inx=dLen-1;}else if(kCode==40){inx++;if(inx>=dLen)inx=-1;}
this.transListItem(inx);this.setListItemIndex(inx);this._parent.selectedOption[0]=inx;this.setInputElValue(inx>=0?optionList[inx]:null);},transListItem:function(nextInx){var prevInx=this._currentListItemIndex;if(prevInx>=0){YUD.removeClass(this._els.optionList[prevInx],'current');}
if(nextInx>=0)YUD.addClass(this._els.optionList[nextInx],'current');},param:function(f,ext){var ps={},qar=[],fels=f.elements,qr='';for(var i=0,l=fels.length;i<l;i++){if(!fels[i].name)continue;ps[fels[i].name]=encodeURIComponent(fels[i].value).replace(/%20/g,'+');}
ps=YL.merge(ps,ext);for(var p in ps){if(ps.hasOwnProperty(p)){qar.push(p+'='+ps[p]);}}
qr=qar.join('&');ps=null;qar=null;return qr;},submitSelect:function(f){if(this._els.inputEl.value.replace(/\s/g,'')!=''){f.submit();}},setListItemIndex:function(inx){this._currentListItemIndex=parseInt(inx);},setInputElValue:function(option){if(option!=null){var _self=this,val='',key=YUD.getElementsByClassName('js_key','span',option);if(key.length==1){val=key[0].innerText||key[0].textContent;}
this._parent.selectedOption[1]=val+(!!option.getAttribute('catid')?('^'+option.getAttribute('catid')):'');}
else{var val=this._parent.selectedOption[2];}
this._parent.requestHander.disabled=true;this._els.inputEl.value=val;},syncMaskWH:function(){var listBox=this._els.listBox;var ifmMask=this._els.iframeMask;YUD.setStyle(ifmMask,'width',listBox.offsetWidth+'px');YUD.setStyle(ifmMask,'height',listBox.offsetHeight+'px');}}};

AE.namespace('AE.widget.xSelector');AE.widget.xSelector=function(){var _self=this,isActive=false;_self.orgSelect=null;_self.options=null;_self.selectedIndex=-1;_self.browseIndex=0;_self.addNodeStatus=0;_self.DATA={selectBox:null,inputEl:null,arrowEl:null,optionBox:null,optionOl:null,optionLis:[],mask:null};_self.onChange=new YAHOO.util.CustomEvent('onChange',_self);var defConfig={selectId:'',fakeSelectId:'',selectBoxWH:[200,18],selectBoxZIndex:0,visibleOptions:20,optionBoxTop:'',arrowBoxLeft:'',isStick:0};_self.init=function(userConfig){defConfig=YL.merge(defConfig,userConfig);var cfg=defConfig,D=_self.DATA;_self.orgSelect=get(cfg.selectId);D.selectBox=get(cfg.fakeSelectId);D.inputEl=YUD.getElementsByClassName('inputEl','input',D.selectBox)[0];D.arrowEl=YUD.getElementsByClassName('arrowNormal','div',D.selectBox)[0];if(!_self.orgSelect){return;}
_self.options=_self.orgSelect.options;_self.selectedIndex=_self.orgSelect.selectedIndex;D.inputEl.value=(_self.orgSelect[_self.selectedIndex]).text;bindListeners();formatSelector();_self.orgSelect.fakeSelect=_self;};_self.dropdown=function(){var D=_self.DATA;if(YUD.getStyle(D.optionBox,'visibility')=='hidden'){YUD.setStyle([D.optionBox,D.mask],'visibility','visible');}};_self.rollup=function(){var D=_self.DATA;if(YUD.getStyle(D.optionBox,'visibility')=='visible'){YUD.setStyle([D.optionBox,D.mask],'visibility','hidden');}
if(defConfig.isStick&&YUD.get('allCate')){YUD.setStyle(YUD.get('allCate'),'visibility','hidden');}};_self.select=function(inx){var D=_self.DATA,option=D.optionLis[inx];if(option.innerHTML!=''&&inx!=_self.selectedIndex){D.inputEl.value=option.childNodes[0].nodeValue;_self.orgSelect.options[inx].selected=true;_self.selectedIndex=inx;_self.onChange.fire(_self.orgSelect);}};var buildOptionList=function(){var cfg=defConfig,D=_self.DATA;D.optionBox=createEl('div',{'class':'optionBox'});var listItems='<ol class="optionOl">';for(var i=0;i<_self.options.length;i++){var option=_self.options[i];if(option.text.match(/^-{3,}$/ig)!=null){listItems+='<li id="simulateOption'+i+'" class="optionLi subLine"></li>';}else{listItems+='<li id="simulateOption'+i+'" class="optionLi '+option.className+'">'+option.text+'</li>';}}
listItems+='</ol>';D.optionBox.innerHTML=listItems;D.selectBox.appendChild(D.optionBox);D.optionOl=D.optionBox.firstChild;D.optionLis=D.optionOl.getElementsByTagName('li');};var formatSelector=function(){var cfg=defConfig,D=_self.DATA;var selectBoxW=cfg.selectBoxWH[0]+'px';var selectBoxH=cfg.selectBoxWH[1]+'px';YUD.setStyle(D.selectBox,'z-index',cfg.selectBoxZIndex);if(parseInt(YAHOO.env.ua.ie)==8){YUD.setStyle(D.selectBox,'display','inline-block');}
YUD.setStyle(D.inputEl,'width',selectBoxW);YUD.setStyle(D.inputEl,'height',selectBoxH);YUD.setStyle(D.inputEl,'line-height',selectBoxH);YUD.setStyle(D.arrowEl,'left',cfg.arrowBoxLeft);YUD.setStyle(D.arrowEl,'z-index',cfg.selectBoxZIndex+2);};var formatOptionList=function(){var cfg=defConfig,D=_self.DATA;if(cfg.optionBoxTop&&cfg.optionBoxTop!=''){YUD.setStyle(D.optionBox,'top',cfg.optionBoxTop);}
YUD.setStyle(D.optionBox,'z-index',cfg.selectBoxZIndex+1);YUD.setStyle(D.optionBox,'visibility','hidden');if(AE.bom.isIE6){YUD.setStyle(D.optionBox,'width','10px');}
if(D.optionOl.offsetWidth<D.inputEl.offsetWidth){YUD.setStyle(D.optionBox,'width',D.inputEl.offsetWidth+'px');}else{YUD.setStyle(D.optionBox,'width',D.optionOl.offsetWidth+'px');}
if(D.optionLis.length>cfg.visibleOptions){YUD.setStyle(D.optionBox,'height',(D.optionLis[0].offsetHeight*cfg.visibleOptions)+'px');}
YUD.setStyle(D.optionOl,'overflow','hidden');};var bindListeners=function(){var D=_self.DATA,cfg=defConfig;YUE.on(D.selectBox,'click',function(e){YUE.stopEvent(e);D.inputEl.focus();if(!isActive){buildOptionList();formatOptionList();bindListenersOnActive();iframeMask();isActive=true;}
if(YUD.getStyle(D.optionBox,'visibility')=='hidden'){D.optionBox.scrollTop=_self.selectedIndex*D.optionLis[0].offsetHeight;transOptionStyle(_self.selectedIndex);_self.dropdown();if(defConfig.isStick){stickAllCate();}}else{_self.rollup();}});YUE.on(D.selectBox,'mouseover',function(e){YUD.addClass(D.arrowEl,'arrowMouseover');});YUE.on(D.selectBox,'mouseout',function(e){YUD.removeClass(D.arrowEl,'arrowMouseover');});};var bindListenersOnActive=function(){var D=_self.DATA,cfg=defConfig;YUE.on(document,'click',_self.rollup);YUE.on(D.inputEl,'keydown',function(e){YUE.stopEvent(e);if(e.altKey&&(e.keyCode==38||e.keyCode==40)){if(YUD.getStyle(D.optionBox,'visibility')=='hidden'){transOptionStyle(_self.selectedIndex);_self.dropdown();}else{_self.rollup();}}
if(!e.altKey){var inx=0,optionHeight=D.optionLis[0].offsetHeight,scrollNum=Math.floor(D.optionBox.scrollTop/optionHeight);if(e.keyCode==38){inx=(_self.browseIndex<1)?0:_self.browseIndex-1;if(_self.browseIndex==scrollNum){D.optionBox.scrollTop=(scrollNum-1)*optionHeight;}
transOptionStyle(inx);_self.select(inx);}else if(e.keyCode==40){inx=(_self.browseIndex+1>=D.optionLis.length)?(D.optionLis.length-1):(_self.browseIndex+1);if(_self.browseIndex==scrollNum+cfg.visibleOptions-1){D.optionBox.scrollTop=(scrollNum+1)*optionHeight;}
transOptionStyle(inx);_self.select(inx);}else if(e.keyCode==13){_self.rollup();_self.select(_self.browseIndex);}}});for(var i=0;i<D.optionLis.length;i++){var optionLi=D.optionLis[i];YUE.on(optionLi,'click',function(e){YUE.stopEvent(e);_self.select(getIndex(this));_self.rollup();});YUE.on(optionLi,'mouseover',function(e){YUE.stopEvent(e);transOptionStyle(getIndex(this));});}};var iframeMask=function(){var cfg=defConfig,D=_self.DATA;D.mask=createEl('iframe',{'frameBorder':'0','width':D.optionBox.offsetWidth,'height':D.optionBox.offsetHeight});YUD.setStyle(D.mask,'position','absolute');YUD.setStyle(D.mask,'left',YUD.getStyle(D.optionBox,'left'));YUD.setStyle(D.mask,'top',YUD.getStyle(D.optionBox,'top'));YUD.setStyle(D.mask,'visibility','hidden');YUD.setStyle(D.mask,'z-index',cfg.selectBoxZIndex);D.selectBox.appendChild(D.mask);};var getIndex=function(option){return parseInt(option.id.replace('simulateOption',''));};var transOptionStyle=function(inx){var D=_self.DATA;if(D.optionLis[inx].innerHTML!=''){YUD.removeClass(YUD.getElementsByClassName('currentLi','li',D.optionOl),'currentLi');YUD.addClass(D.optionLis[inx],'currentLi');if(defConfig.isStick&&YUD.get('allCate')){YUD.removeClass(YUD.get('allCate'),'currentLi');}}
_self.browseIndex=inx;};var createEl=function(tag,properties){var el=document.createElement(tag);for(var p in properties){if(p=='class'){YUD.addClass(el,properties[p]);}else{el.setAttribute(p,properties[p]);}}
return el;};var stickAllCate=function(){var D=_self.DATA,oLiLast=D.optionBox.getElementsByTagName('li')[D.optionBox.getElementsByTagName('li').length-1];if(!_self.addNodeStatus){var eAllCate=document.createElement('div'),eAllCateBg=document.createElement('div');tAllCate=document.createTextNode('\u00A0 In All Categories'),liHeight=34,startTop=D.optionBox.offsetTop+D.optionBox.offsetHeight-liHeight,cateWidth=D.optionBox.clientWidth;eAllCateBg.className='stickSubLine';eAllCate.setAttribute('id','allCate');eAllCate.className='stickAllCate';eAllCate.style.cssText='top:'+startTop+'px;width:'+cateWidth+'px;';eAllCate.appendChild(eAllCateBg);eAllCate.appendChild(tAllCate);D.selectBox.appendChild(eAllCate);_self.addNodeStatus=1;}else{eAllCate=YUD.get('allCate');YUD.setStyle(eAllCate,'visibility','visible');}
YUE.on(eAllCate,'click',function(e){YUE.stopEvent(e);_self.select(getIndex(oLiLast));_self.rollup();});YUE.on(eAllCate,'mouseover',function(e){YUE.stopEvent(e);var inx=getIndex(oLiLast);var D=_self.DATA;YUD.removeClass(YUD.getElementsByClassName('currentLi','li',D.optionOl),'currentLi');YUD.addClass(eAllCate,'currentLi');_self.browseIndex=inx;});};};

function gotoUrlForReferrer(url){var a=document.createElement('a');if(!a.click){window.location=url;return;}
a.setAttribute('href',url);a.style.display='none';document.body.appendChild(a);a.click();}
var extractUrl=function(url){URL=url+"";var index1=url.indexOf("&trurl=");var index2=url.indexOf("&",index1+3);if(index1!=-1&&index2!=-1)URL=url.substring(index1+7,index2);if(index1!=-1&&index2==-1)URL=url.substring(index1+7);URL=unescape(url);return url;}
function signout(){YUD.setCookie("ali_non_s_temp","",-1,"aliexpress.com","/");YUD.setCookie("aep_common_temp","",-1,"aliexpress.com","/");if(top.location!=self.location){var url="https://login.alibaba.com/xman/xlogout.htm?return_url="+escape(extractUrl(self.location));top.location=url;}else{var url="https://login.alibaba.com/xman/xlogout.htm?return_url="+escape(document.location);gotoUrlForReferrer(url);}}
var signin=function(){if(top.location!=self.location){var url="https://login.aliexpress.com/buyer.htm?return="+escape(extractUrl(self.location));top.location=url;}else{var url="https://login.aliexpress.com/buyer.htm?return="+escape(document.location);gotoUrlForReferrer(url);}}
YUE.onDOMReady(function(){AE.webInfo.create({signinURL:'javascript:signin()',signoutURL:'javascript:signout()',joinWithCD0URL:'http://us.ae.alibaba.com/wsuser/buyerJoin/expressJoin.htm?return='+document.location,joinFro:''});AE.webInfo.writeWelcomeInfo('welcome_info');if(get("overShowMyAlibaba")){var overShowMyAlibabaConfig={targetId:"overShowMyAlibaba",contentId:"overShowMyAlibabaContent",needMask:true,showDelayTime:200,hiddenDelayTime:30,excursion:[0,19]};var overShowMyAlibabaInstance=new AE.widget.overShow();overShowMyAlibabaInstance.init(overShowMyAlibabaConfig);overShowMyAlibabaInstance.afterShowDelay.subscribe(function(){YUD.addClass('overShowMyAlibaba','onshow');});overShowMyAlibabaInstance.afterHiddenDelay.subscribe(function(){YUD.removeClass('overShowMyAlibaba','onshow');});}
if(get("top-menu-seller-menu")){var topMenuSellerMenu=new AE.widget.overShow();topMenuSellerMenu.init({targetId:"top-menu-seller-menu",contentId:"top-menu-seller-menu-content",needMask:true,showDelayTime:200,hiddenDelayTime:30,excursion:[0,19]});topMenuSellerMenu.afterShowDelay.subscribe(function(){YUD.addClass('top-menu-seller-menu','onshow');});topMenuSellerMenu.afterHiddenDelay.subscribe(function(){YUD.removeClass('top-menu-seller-menu','onshow');});}
if(get("top-menu-buyer-help")){var topMenuBuyerHelp=new AE.widget.overShow();topMenuBuyerHelp.init({targetId:"top-menu-buyer-help",contentId:"top-menu-buyer-help-content",needMask:true,showDelayTime:200,hiddenDelayTime:30,excursion:[0,19]});topMenuBuyerHelp.afterShowDelay.subscribe(function(){YUD.addClass('top-menu-buyer-help','onshow');});topMenuBuyerHelp.afterHiddenDelay.subscribe(function(){YUD.removeClass('top-menu-buyer-help','onshow');});}});

YUE.onContentReady("search-bar",function(){var config={bar:get("search-bar"),onlyOneShow:true,setups:{product:{actionUrl:document.location.port?'http://www.aliexpress.com:'+document.location.port+'/wholesale':'http://www.aliexpress.com/wholesale',indexArea:'product_en',submitFormWhenClicked:false}},fackSelectorConfig:{selectId:'searchCategory',fakeSelectId:'fakeSelectorBox',selectBoxWH:[160,16],selectBoxZIndex:10000,optionBoxTop:'26px',optionBoxLeft:'10px',arrowBoxLeft:'159px'},intelSearchConfig:{url:'http://connectkeyword.alibaba.com/lenoIframeJson.htm?iframe_delete=true',inputElId:'SearchTextIdx',listCssClass:'intelligentList',listCssStyle:'left:0px;top:'+(AE.bom.isIE?26:26)+'px;width:198px;z-index:777',returnVarName:'intelSearchData',keyWordClass:'boldKeword'}}
window.searchBar=(new AE.searchBar()).init(config);});YUE.onDOMReady(function(){YUE.on(get("categories-title"),"mouseover",function(){if(typeof(window.categoriesAPP)=="undefined"){window.categoriesAPP=(new AE.app.categories()).init();}});});

YUE.onDOMReady(function(){if(get("email-adds")){var emailAdds=get("email-adds");var emailSubmit=get("email-submit");var emailForm=get("email-form");YUE.on(emailAdds,"focus",function(e){if(emailAdds.value=="Email address"){emailAdds.style.color="#666"
emailAdds.value="";}});YUE.on(emailSubmit,"click",function(e){var v=emailAdds.value;emailForm.submit();});}
if(get("bottom-email-adds")){var bottomEmailAdds=get("bottom-email-adds");var bottomEmailSubmit=get("bottom-email-submit");var bottomEmailForm=get("bottom-email-form");YUE.on(bottomEmailAdds,"focus",function(e){if(bottomEmailAdds.value=="Email address"){bottomEmailAdds.style.color="#666"
bottomEmailAdds.value="";}});YUE.on(bottomEmailSubmit,"click",function(e){var v=bottomEmailAdds.value;bottomEmailForm.submit();});}});

YUE.onDOMReady(function(){if(!!get('viframe_content')&&!get('no_auto_anchor')){var location=window.location.href,navItems=YUD.getElementsByClassName('vi-listlink','ul')[0].getElementsByTagName('a'),viTitles=YUD.getElementsByClassName('vi-title','div',get('viframe_content')),viPageTops=YUD.getElementsByClassName('vi-pagetop','div');var replaceReg=new RegExp('[^a-zA-Z0-9]','g');var navAnchors=new Array();if(location.indexOf('#')>-1){location=location.split('#')[0];}
for(var i=0;i<viTitles.length;i++){viTitles[i].getElementsByTagName('h3')[0].id=navItems[i].innerHTML.replace(replaceReg,'');navItems[i].href=location+'#'+navItems[i].innerHTML.replace(replaceReg,'');viPageTops[i].getElementsByTagName('a')[0].href=location+'#logo';}}});

AE.namespace('AE.run')
if(!AE.run.currentCategory){AE.run.currentCategory=function(){this.config={categoryId:'',crumbClassName:'',currentLinkName:'',currenPremierName:''},this.cache={channelTextArr:['AliExpress PREMIER','Promotional Products','Wedding Channel','Novelty Items','Electronics Channel']}};AE.run.currentCategory.prototype={init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config;_self._getCategories();},_getCategories:function(){var _self=this;var checkClass=function(el){return el.className=='premier-link'||el.className=='';}
var categories=YUD.getElementsBy(checkClass,'li',_self.config.categoryId);_self._addCurrentClass(categories);},_addCurrentClass:function(categories){var _self=this;var crumbEle=YUD.getElementsByClassName(_self.config.crumbClassName)[0];var crumbEleStr=crumbEle.innerHTML.replace(/>\s+(\w+)\s+/gi,">$1");for(var i=0,len=categories.length;i<len;i++){if(crumbEleStr.indexOf('>'+_self.cache.channelTextArr[i]+'<')>-1){if(i==0)
{categories[i].className=_self.config.currenPremierName;}else{categories[i].className=_self.config.currentLinkName;break;}}}}}};YUE.onDOMReady(function(){(new AE.run.currentCategory()).init({categoryId:'categories-expand',crumbClassName:'crumb',currentLinkName:'current-link',currenPremierName:'premier-current-link'});});
